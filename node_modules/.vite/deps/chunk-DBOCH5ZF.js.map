{
  "version": 3,
  "sources": ["../../supertokens-web-js/lib/build/normalisedURLPath.js", "../../supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js", "../../supertokens-website/lib/build/utils/windowHandler/index.js", "../../supertokens-website/utils/windowHandler/index.js", "../../supertokens-web-js/lib/build/windowHandler/index.js", "../../supertokens-web-js/lib/build/constants.js", "../../supertokens-web-js/lib/build/normalisedURLDomain.js", "../../supertokens-website/lib/build/normalisedURLDomain.js", "../../supertokens-website/lib/build/normalisedURLPath.js", "../../supertokens-website/lib/build/version.js", "../../supertokens-website/lib/build/logger.js", "../../supertokens-website/lib/build/utils/index.js", "../../supertokens-website/lib/build/processState.js", "../../supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js", "../../supertokens-website/lib/build/utils/cookieHandler/index.js", "../../browser-tabs-lock/processLock.js", "../../browser-tabs-lock/index.js", "../../supertokens-website/lib/build/utils/lockFactory/index.js", "../../supertokens-website/lib/build/fetch.js", "../../supertokens-website/lib/build/utils/sessionClaimValidatorStore.js", "../../supertokens-website/lib/build/utils/globalClaimValidators.js", "../../supertokens-website/utils/globalClaimValidators/index.js", "../../supertokens-web-js/lib/build/utils.js", "../../supertokens-website/lib/build/error.js", "../../supertokens-website/utils/error/index.js", "../../supertokens-web-js/lib/build/error.js", "../../supertokens-web-js/lib/build/recipe/recipeModule/utils.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/utils.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/utils.js", "../../supertokens-js-override/lib/build/getProxyObject.js", "../../supertokens-js-override/lib/build/index.js", "../../supertokens-web-js/lib/build/version.js", "../../supertokens-web-js/lib/build/querier.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipeImplementation.js", "../../supertokens-web-js/lib/build/recipe/recipeModule/index.js", "../../supertokens-website/lib/build/axiosError.js", "../../supertokens-website/lib/build/axios.js", "../../supertokens-website/lib/build/xmlhttprequest.js", "../../supertokens-website/lib/build/recipeImplementation.js", "../../supertokens-website/lib/build/claims/primitiveClaim.js", "../../supertokens-website/lib/build/claims/primitiveArrayClaim.js", "../../supertokens-website/lib/build/claims/booleanClaim.js", "../../supertokens-website/lib/build/index.js", "../../supertokens-website/index.js", "../../supertokens-web-js/lib/build/recipe/session/recipe.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/index.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipe.js"],
  "sourcesContent": ["\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            // Otherwise, return value.\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultWindowHandlerImplementation = void 0;\nfunction getWindowOrThrow() {\n    if (typeof window === \"undefined\") {\n        throw Error(\n            \"If you are using this package with server-side rendering, please make sure that you are checking if the window object is defined.\"\n        );\n    }\n    return window;\n}\nvar defaultLocalStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().localStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().localStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().localStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().localStorage.setItem(key, value);\n    }\n};\nvar defaultSessionStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().sessionStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().sessionStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().sessionStorage.setItem(key, value);\n    }\n};\nexports.defaultWindowHandlerImplementation = {\n    history: {\n        replaceState: function (data, unused, url) {\n            return getWindowOrThrow().history.replaceState(data, unused, url);\n        },\n        getState: function () {\n            return getWindowOrThrow().history.state;\n        }\n    },\n    location: {\n        getHref: function () {\n            return getWindowOrThrow().location.href;\n        },\n        setHref: function (href) {\n            getWindowOrThrow().location.href = href;\n        },\n        getSearch: function () {\n            return getWindowOrThrow().location.search;\n        },\n        getHash: function () {\n            return getWindowOrThrow().location.hash;\n        },\n        getPathName: function () {\n            return getWindowOrThrow().location.pathname;\n        },\n        assign: function (url) {\n            /**\n             * The type for assign accepts URL | string but when building\n             * it complains about only accepting a string. To prevent this\n             * we use any\n             */\n            getWindowOrThrow().location.assign(url);\n        },\n        getHostName: function () {\n            return getWindowOrThrow().location.hostname;\n        },\n        getHost: function () {\n            return getWindowOrThrow().location.host;\n        },\n        getOrigin: function () {\n            return getWindowOrThrow().location.origin;\n        }\n    },\n    getDocument: function () {\n        return getWindowOrThrow().document;\n    },\n    getWindowUnsafe: function () {\n        return getWindowOrThrow().window;\n    },\n    localStorage: defaultLocalStorageHandler,\n    sessionStorage: defaultSessionStorageHandler\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = require(\"./defaultImplementation\");\nvar WindowHandlerReference = /** @class */ (function () {\n    function WindowHandlerReference(windowHandlerInput) {\n        var windowHandlerFunc = function (original) {\n            return original;\n        };\n        if (windowHandlerInput !== undefined) {\n            windowHandlerFunc = windowHandlerInput;\n        }\n        this.windowHandler = windowHandlerFunc(defaultImplementation_1.defaultWindowHandlerImplementation);\n    }\n    WindowHandlerReference.init = function (windowHandlerInput) {\n        if (WindowHandlerReference.instance !== undefined) {\n            return;\n        }\n        WindowHandlerReference.instance = new WindowHandlerReference(windowHandlerInput);\n    };\n    WindowHandlerReference.getReferenceOrThrow = function () {\n        if (WindowHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensWindowHandler must be initialized before calling this method.\");\n        }\n        return WindowHandlerReference.instance;\n    };\n    return WindowHandlerReference;\n})();\nexports.WindowHandlerReference = WindowHandlerReference;\nexports.default = WindowHandlerReference;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/windowHandler\"));\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowHandlerReference = void 0;\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nObject.defineProperty(exports, \"WindowHandlerReference\", {\n    enumerable: true,\n    get: function () {\n        return windowHandler_1.WindowHandlerReference;\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SSR_ERROR = exports.DEFAULT_API_BASE_PATH = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.DEFAULT_API_BASE_PATH = \"/auth\";\nexports.SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAnIpAddress = void 0;\nfunction isAnIpAddress(ipaddress) {\n    return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n        ipaddress\n    );\n}\nexports.isAnIpAddress = isAnIpAddress;\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"17.0.4\";\nexports.supported_fdi = [\"1.16\", \"1.17\", \"1.18\"];\n", "\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logDebugMessage = exports.disableLogging = exports.enableLogging = void 0;\nvar version_1 = require(\"./version\");\nvar SUPERTOKENS_DEBUG_NAMESPACE = \"com.supertokens\";\nvar __supertokensWebsiteLogging = false;\nfunction enableLogging() {\n    __supertokensWebsiteLogging = true;\n}\nexports.enableLogging = enableLogging;\nfunction disableLogging() {\n    __supertokensWebsiteLogging = false;\n}\nexports.disableLogging = disableLogging;\nfunction logDebugMessage(message) {\n    if (__supertokensWebsiteLogging) {\n        console.log(\n            \"\"\n                .concat(SUPERTOKENS_DEBUG_NAMESPACE, ' {t: \"')\n                .concat(new Date().toISOString(), '\", message: \"')\n                .concat(message, '\", supertokens-website-ver: \"')\n                .concat(version_1.package_version, '\"}')\n        );\n    }\n}\nexports.logDebugMessage = logDebugMessage;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNormalisedUserContext =\n    exports.validateAndNormaliseInputOrThrowError =\n    exports.normaliseSessionScopeOrThrowError =\n    exports.normaliseURLPathOrThrowError =\n    exports.normaliseURLDomainOrThrowError =\n        void 0;\nvar normalisedURLDomain_1 = require(\"../normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"../normalisedURLPath\");\nvar windowHandler_1 = require(\"../utils/windowHandler\");\nvar logger_1 = require(\"../logger\");\nfunction normaliseURLDomainOrThrowError(input) {\n    var str = new normalisedURLDomain_1.default(input).getAsStringDangerous();\n    return str;\n}\nexports.normaliseURLDomainOrThrowError = normaliseURLDomainOrThrowError;\nfunction normaliseURLPathOrThrowError(input) {\n    return new normalisedURLPath_1.default(input).getAsStringDangerous();\n}\nexports.normaliseURLPathOrThrowError = normaliseURLPathOrThrowError;\nfunction normaliseSessionScopeOrThrowError(sessionTokenFrontendDomain) {\n    function helper(sessionTokenFrontendDomain) {\n        sessionTokenFrontendDomain = sessionTokenFrontendDomain.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (sessionTokenFrontendDomain.startsWith(\".\")) {\n            sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n        }\n        if (!sessionTokenFrontendDomain.startsWith(\"http://\") && !sessionTokenFrontendDomain.startsWith(\"https://\")) {\n            sessionTokenFrontendDomain = \"http://\" + sessionTokenFrontendDomain;\n        }\n        try {\n            var urlObj = new URL(sessionTokenFrontendDomain);\n            sessionTokenFrontendDomain = urlObj.hostname;\n            // remove leading dot\n            if (sessionTokenFrontendDomain.startsWith(\".\")) {\n                sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n            }\n            return sessionTokenFrontendDomain;\n        } catch (err) {\n            throw new Error(\"Please provide a valid sessionTokenFrontendDomain\");\n        }\n    }\n    var noDotNormalised = helper(sessionTokenFrontendDomain);\n    if (noDotNormalised === \"localhost\" || (0, normalisedURLDomain_1.isAnIpAddress)(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (sessionTokenFrontendDomain.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nexports.normaliseSessionScopeOrThrowError = normaliseSessionScopeOrThrowError;\nfunction validateAndNormaliseInputOrThrowError(options) {\n    var _this = this;\n    var apiDomain = normaliseURLDomainOrThrowError(options.apiDomain);\n    var apiBasePath = normaliseURLPathOrThrowError(\"/auth\");\n    if (options.apiBasePath !== undefined) {\n        apiBasePath = normaliseURLPathOrThrowError(options.apiBasePath);\n    }\n    var defaultSessionScope = windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName();\n    // See https://github.com/supertokens/supertokens-website/issues/98\n    var sessionTokenFrontendDomain = normaliseSessionScopeOrThrowError(\n        options !== undefined && options.sessionTokenFrontendDomain !== undefined\n            ? options.sessionTokenFrontendDomain\n            : defaultSessionScope\n    );\n    var sessionExpiredStatusCode = 401;\n    if (options.sessionExpiredStatusCode !== undefined) {\n        sessionExpiredStatusCode = options.sessionExpiredStatusCode;\n    }\n    var invalidClaimStatusCode = 403;\n    if (options.invalidClaimStatusCode !== undefined) {\n        invalidClaimStatusCode = options.invalidClaimStatusCode;\n    }\n    if (sessionExpiredStatusCode === invalidClaimStatusCode) {\n        throw new Error(\"sessionExpiredStatusCode and invalidClaimStatusCode cannot be the same.\");\n    }\n    var autoAddCredentials = true;\n    if (options.autoAddCredentials !== undefined) {\n        autoAddCredentials = options.autoAddCredentials;\n    }\n    var isInIframe = false;\n    if (options.isInIframe !== undefined) {\n        isInIframe = options.isInIframe;\n    }\n    var sessionTokenBackendDomain = undefined;\n    if (options.sessionTokenBackendDomain !== undefined) {\n        sessionTokenBackendDomain = normaliseSessionScopeOrThrowError(options.sessionTokenBackendDomain);\n    }\n    var preAPIHook = function (context) {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, { url: context.url, requestInit: context.requestInit }];\n            });\n        });\n    };\n    if (options.preAPIHook !== undefined) {\n        preAPIHook = options.preAPIHook;\n    }\n    var postAPIHook = function () {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    if (options.postAPIHook !== undefined) {\n        postAPIHook = options.postAPIHook;\n    }\n    var onHandleEvent = function () {};\n    if (options.onHandleEvent !== undefined) {\n        onHandleEvent = options.onHandleEvent;\n    }\n    var override = __assign(\n        {\n            functions: function (oI) {\n                return oI;\n            }\n        },\n        options.override\n    );\n    if (options.enableDebugLogs !== undefined && options.enableDebugLogs) {\n        (0, logger_1.enableLogging)();\n    }\n    return {\n        apiDomain: apiDomain,\n        apiBasePath: apiBasePath,\n        sessionTokenFrontendDomain: sessionTokenFrontendDomain,\n        sessionExpiredStatusCode: sessionExpiredStatusCode,\n        invalidClaimStatusCode: invalidClaimStatusCode,\n        autoAddCredentials: autoAddCredentials,\n        isInIframe: isInIframe,\n        tokenTransferMethod: options.tokenTransferMethod !== undefined ? options.tokenTransferMethod : \"cookie\",\n        sessionTokenBackendDomain: sessionTokenBackendDomain,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        onHandleEvent: onHandleEvent,\n        override: override\n    };\n}\nexports.validateAndNormaliseInputOrThrowError = validateAndNormaliseInputOrThrowError;\nfunction getNormalisedUserContext(userContext) {\n    if (userContext === undefined) {\n        return {};\n    }\n    return userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProcessState = exports.PROCESS_STATE = void 0;\nvar PROCESS_STATE;\n(function (PROCESS_STATE) {\n    //CALLING_INTERCEPTION_REQUEST : Process state for the request interceptor.\n    //CALLING_INTERCEPTION_RESOPONSE : Process state for the response interceptor.\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_REQUEST\"] = 0)] = \"CALLING_INTERCEPTION_REQUEST\";\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_RESPONSE\"] = 1)] = \"CALLING_INTERCEPTION_RESPONSE\";\n})((PROCESS_STATE = exports.PROCESS_STATE || (exports.PROCESS_STATE = {})));\nvar ProcessState = /** @class */ (function () {\n    function ProcessState() {\n        var _this = this;\n        this.history = [];\n        this.addState = function (state) {\n            try {\n                if (process !== undefined && process.env !== undefined && process.env.TEST_MODE === \"testing\") {\n                    _this.history.push(state);\n                }\n            } catch (ignored) {}\n        };\n        this.getEventByLastEventByName = function (state) {\n            for (var i = _this.history.length - 1; i >= 0; i--) {\n                if (_this.history[i] == state) {\n                    return _this.history[i];\n                }\n            }\n            return undefined;\n        };\n        this.reset = function () {\n            _this.history = [];\n        };\n        this.waitForEvent = function (state, timeInMS) {\n            if (timeInMS === void 0) {\n                timeInMS = 7000;\n            }\n            return __awaiter(_this, void 0, void 0, function () {\n                var startTime;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    startTime = Date.now();\n                    return [\n                        2 /*return*/,\n                        new Promise(function (resolve) {\n                            var actualThis = _this;\n                            function tryAndGet() {\n                                var result = actualThis.getEventByLastEventByName(state);\n                                if (result === undefined) {\n                                    if (Date.now() - startTime > timeInMS) {\n                                        resolve(undefined);\n                                    } else {\n                                        setTimeout(tryAndGet, 1000);\n                                    }\n                                } else {\n                                    resolve(result);\n                                }\n                            }\n                            tryAndGet();\n                        })\n                    ];\n                });\n            });\n        };\n    }\n    ProcessState.getInstance = function () {\n        if (ProcessState.instance == undefined) {\n            ProcessState.instance = new ProcessState();\n        }\n        return ProcessState.instance;\n    };\n    return ProcessState;\n})();\nexports.ProcessState = ProcessState;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultCookieHandlerImplementation = void 0;\nvar windowHandler_1 = require(\"../windowHandler\");\nexports.defaultCookieHandlerImplementation = {\n    getCookie: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie\n                ];\n            });\n        });\n    },\n    setCookie: function (cookieString) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie =\n                    cookieString;\n                return [2 /*return*/];\n            });\n        });\n    }\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = require(\"./defaultImplementation\");\nvar CookieHandlerReference = /** @class */ (function () {\n    function CookieHandlerReference(cookieHandlerInput) {\n        var cookieHandlerFunc = function (original) {\n            return original;\n        };\n        if (cookieHandlerInput !== undefined) {\n            cookieHandlerFunc = cookieHandlerInput;\n        }\n        this.cookieHandler = cookieHandlerFunc(defaultImplementation_1.defaultCookieHandlerImplementation);\n    }\n    CookieHandlerReference.init = function (cookieHandlerInput) {\n        if (CookieHandlerReference.instance !== undefined) {\n            return;\n        }\n        CookieHandlerReference.instance = new CookieHandlerReference(cookieHandlerInput);\n    };\n    CookieHandlerReference.getReferenceOrThrow = function () {\n        if (CookieHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensCookieHandler must be initialized before calling this method.\");\n        }\n        return CookieHandlerReference.instance;\n    };\n    return CookieHandlerReference;\n})();\nexports.CookieHandlerReference = CookieHandlerReference;\nexports.default = CookieHandlerReference;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProcessLocking = /** @class */ (function () {\n    function ProcessLocking() {\n        var _this = this;\n        this.locked = new Map();\n        this.addToLocked = function (key, toAdd) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined) {\n                if (toAdd === undefined) {\n                    _this.locked.set(key, []);\n                }\n                else {\n                    _this.locked.set(key, [toAdd]);\n                }\n            }\n            else {\n                if (toAdd !== undefined) {\n                    callbacks.unshift(toAdd);\n                    _this.locked.set(key, callbacks);\n                }\n            }\n        };\n        this.isLocked = function (key) {\n            return _this.locked.has(key);\n        };\n        this.lock = function (key) {\n            return new Promise(function (resolve, reject) {\n                if (_this.isLocked(key)) {\n                    _this.addToLocked(key, resolve);\n                }\n                else {\n                    _this.addToLocked(key);\n                    resolve();\n                }\n            });\n        };\n        this.unlock = function (key) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined || callbacks.length === 0) {\n                _this.locked.delete(key);\n                return;\n            }\n            var toCall = callbacks.pop();\n            _this.locked.set(key, callbacks);\n            if (toCall !== undefined) {\n                setTimeout(toCall, 0);\n            }\n        };\n    }\n    ProcessLocking.getInstance = function () {\n        if (ProcessLocking.instance === undefined) {\n            ProcessLocking.instance = new ProcessLocking();\n        }\n        return ProcessLocking.instance;\n    };\n    return ProcessLocking;\n}());\nfunction getLock() {\n    return ProcessLocking.getInstance();\n}\nexports.default = getLock;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar processLock_1 = require(\"./processLock\");\n/**\n * @author: SuperTokens (https://github.com/supertokens)\n * This library was created as a part of a larger project, SuperTokens(https://supertokens.io) - the best session management solution.\n * You can also check out our other projects on https://github.com/supertokens\n *\n * To contribute to this package visit https://github.com/supertokens/browser-tabs-lock\n * If you face any problems you can file an issue on https://github.com/supertokens/browser-tabs-lock/issues\n *\n * If you have any questions or if you just want to say hi visit https://supertokens.io/discord\n */\n/**\n * @constant\n * @type {string}\n * @default\n * @description All the locks taken by this package will have this as prefix\n*/\nvar LOCK_STORAGE_KEY = 'browser-tabs-lock-key';\nvar DEFAULT_STORAGE_HANDLER = {\n    key: function (index) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    getItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    clear: function () { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, window.localStorage.clear()];\n        });\n    }); },\n    removeItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    setItem: function (key, value) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    keySync: function (index) {\n        return window.localStorage.key(index);\n    },\n    getItemSync: function (key) {\n        return window.localStorage.getItem(key);\n    },\n    clearSync: function () {\n        return window.localStorage.clear();\n    },\n    removeItemSync: function (key) {\n        return window.localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return window.localStorage.setItem(key, value);\n    },\n};\n/**\n * @function delay\n * @param {number} milliseconds - How long the delay should be in terms of milliseconds\n * @returns {Promise<void>}\n */\nfunction delay(milliseconds) {\n    return new Promise(function (resolve) { return setTimeout(resolve, milliseconds); });\n}\n/**\n * @function generateRandomString\n * @params {number} length - How long the random string should be\n * @returns {string}\n * @description returns random string whose length is equal to the length passed as parameter\n */\nfunction generateRandomString(length) {\n    var CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    var randomstring = '';\n    for (var i = 0; i < length; i++) {\n        var INDEX = Math.floor(Math.random() * CHARS.length);\n        randomstring += CHARS[INDEX];\n    }\n    return randomstring;\n}\n/**\n * @function getLockId\n * @returns {string}\n * @description Generates an id which will be unique for the browser tab\n */\nfunction getLockId() {\n    return Date.now().toString() + generateRandomString(15);\n}\nvar SuperTokensLock = /** @class */ (function () {\n    function SuperTokensLock(storageHandler) {\n        this.acquiredIatSet = new Set();\n        this.storageHandler = undefined;\n        this.id = getLockId();\n        this.acquireLock = this.acquireLock.bind(this);\n        this.releaseLock = this.releaseLock.bind(this);\n        this.releaseLock__private__ = this.releaseLock__private__.bind(this);\n        this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this);\n        this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this);\n        this.storageHandler = storageHandler;\n        if (SuperTokensLock.waiters === undefined) {\n            SuperTokensLock.waiters = [];\n        }\n    }\n    /**\n     * @async\n     * @memberOf Lock\n     * @function acquireLock\n     * @param {string} lockKey - Key for which the lock is being acquired\n     * @param {number} [timeout=5000] - Maximum time for which the function will wait to acquire the lock\n     * @returns {Promise<boolean>}\n     * @description Will return true if lock is being acquired, else false.\n     *              Also the lock can be acquired for maximum 10 secs\n     */\n    SuperTokensLock.prototype.acquireLock = function (lockKey, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var iat, MAX_TIME, STORAGE_KEY, STORAGE, lockObj, TIMEOUT_KEY, lockObjPostDelay, parsedLockObjPostDelay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        iat = Date.now() + generateRandomString(4);\n                        MAX_TIME = Date.now() + timeout;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        _a.label = 1;\n                    case 1:\n                        if (!(Date.now() < MAX_TIME)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, delay(30)];\n                    case 2:\n                        _a.sent();\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (!(lockObj === null)) return [3 /*break*/, 5];\n                        TIMEOUT_KEY = this.id + \"-\" + lockKey + \"-\" + iat;\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        return [4 /*yield*/, delay(Math.floor(Math.random() * 25))];\n                    case 3:\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        _a.sent();\n                        STORAGE.setItemSync(STORAGE_KEY, JSON.stringify({\n                            id: this.id,\n                            iat: iat,\n                            timeoutKey: TIMEOUT_KEY,\n                            timeAcquired: Date.now(),\n                            timeRefreshed: Date.now()\n                        }));\n                        return [4 /*yield*/, delay(30)];\n                    case 4:\n                        _a.sent(); // this is to prevent race conditions. This time must be more than the time it takes for storage.setItem\n                        lockObjPostDelay = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObjPostDelay !== null) {\n                            parsedLockObjPostDelay = JSON.parse(lockObjPostDelay);\n                            if (parsedLockObjPostDelay.id === this.id && parsedLockObjPostDelay.iat === iat) {\n                                this.acquiredIatSet.add(iat);\n                                this.refreshLockWhileAcquired(STORAGE_KEY, iat);\n                                return [2 /*return*/, true];\n                            }\n                        }\n                        return [3 /*break*/, 7];\n                    case 5:\n                        SuperTokensLock.lockCorrector(this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler);\n                        return [4 /*yield*/, this.waitForSomethingToChange(MAX_TIME)];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7:\n                        iat = Date.now() + generateRandomString(4);\n                        return [3 /*break*/, 1];\n                    case 8: return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    SuperTokensLock.prototype.refreshLockWhileAcquired = function (storageKey, iat) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var STORAGE, lockObj, parsedLockObj;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, processLock_1.default().lock(iat)];\n                            case 1:\n                                _a.sent();\n                                if (!this.acquiredIatSet.has(iat)) {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                                lockObj = STORAGE.getItemSync(storageKey);\n                                if (lockObj !== null) {\n                                    parsedLockObj = JSON.parse(lockObj);\n                                    parsedLockObj.timeRefreshed = Date.now();\n                                    STORAGE.setItemSync(storageKey, JSON.stringify(parsedLockObj));\n                                    processLock_1.default().unlock(iat);\n                                }\n                                else {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                this.refreshLockWhileAcquired(storageKey, iat);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); }, 1000);\n                return [2 /*return*/];\n            });\n        });\n    };\n    SuperTokensLock.prototype.waitForSomethingToChange = function (MAX_TIME) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                            var resolvedCalled = false;\n                            var startedAt = Date.now();\n                            var MIN_TIME_TO_WAIT = 50; // ms\n                            var removedListeners = false;\n                            function stopWaiting() {\n                                if (!removedListeners) {\n                                    window.removeEventListener('storage', stopWaiting);\n                                    SuperTokensLock.removeFromWaiting(stopWaiting);\n                                    clearTimeout(timeOutId);\n                                    removedListeners = true;\n                                }\n                                if (!resolvedCalled) {\n                                    resolvedCalled = true;\n                                    var timeToWait = MIN_TIME_TO_WAIT - (Date.now() - startedAt);\n                                    if (timeToWait > 0) {\n                                        setTimeout(resolve, timeToWait);\n                                    }\n                                    else {\n                                        resolve(null);\n                                    }\n                                }\n                            }\n                            window.addEventListener('storage', stopWaiting);\n                            SuperTokensLock.addToWaiting(stopWaiting);\n                            var timeOutId = setTimeout(stopWaiting, Math.max(0, MAX_TIME - Date.now()));\n                        })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SuperTokensLock.addToWaiting = function (func) {\n        this.removeFromWaiting(func);\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters.push(func);\n    };\n    SuperTokensLock.removeFromWaiting = function (func) {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters = SuperTokensLock.waiters.filter(function (i) { return i !== func; });\n    };\n    SuperTokensLock.notifyWaiters = function () {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        var waiters = SuperTokensLock.waiters.slice(); // so that if Lock.waiters is changed it's ok.\n        waiters.forEach(function (i) { return i(); });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.releaseLock__private__(lockKey)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock__private__ = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var STORAGE, STORAGE_KEY, lockObj, parsedlockObj;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObj === null) {\n                            return [2 /*return*/];\n                        }\n                        parsedlockObj = JSON.parse(lockObj);\n                        if (!(parsedlockObj.id === this.id)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, processLock_1.default().lock(parsedlockObj.iat)];\n                    case 1:\n                        _a.sent();\n                        this.acquiredIatSet.delete(parsedlockObj.iat);\n                        STORAGE.removeItemSync(STORAGE_KEY);\n                        processLock_1.default().unlock(parsedlockObj.iat);\n                        SuperTokensLock.notifyWaiters();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @function lockCorrector\n     * @returns {void}\n     * @description If a lock is acquired by a tab and the tab is closed before the lock is\n     *              released, this function will release those locks\n     */\n    SuperTokensLock.lockCorrector = function (storageHandler) {\n        var MIN_ALLOWED_TIME = Date.now() - 5000;\n        var STORAGE = storageHandler;\n        var KEYS = [];\n        var currIndex = 0;\n        while (true) {\n            var key = STORAGE.keySync(currIndex);\n            if (key === null) {\n                break;\n            }\n            KEYS.push(key);\n            currIndex++;\n        }\n        var notifyWaiters = false;\n        for (var i = 0; i < KEYS.length; i++) {\n            var LOCK_KEY = KEYS[i];\n            if (LOCK_KEY.includes(LOCK_STORAGE_KEY)) {\n                var lockObj = STORAGE.getItemSync(LOCK_KEY);\n                if (lockObj !== null) {\n                    var parsedlockObj = JSON.parse(lockObj);\n                    if ((parsedlockObj.timeRefreshed === undefined && parsedlockObj.timeAcquired < MIN_ALLOWED_TIME) ||\n                        (parsedlockObj.timeRefreshed !== undefined && parsedlockObj.timeRefreshed < MIN_ALLOWED_TIME)) {\n                        STORAGE.removeItemSync(LOCK_KEY);\n                        notifyWaiters = true;\n                    }\n                }\n            }\n        }\n        if (notifyWaiters) {\n            SuperTokensLock.notifyWaiters();\n        }\n    };\n    SuperTokensLock.waiters = undefined;\n    return SuperTokensLock;\n}());\nexports.default = SuperTokensLock;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LockFactoryReference = void 0;\nvar browser_tabs_lock_1 = require(\"browser-tabs-lock\");\nvar defaultFactory = function (storageHandler) {\n    return function () {\n        return Promise.resolve(new browser_tabs_lock_1.default(storageHandler));\n    };\n};\nvar LockFactoryReference = /** @class */ (function () {\n    function LockFactoryReference(lockFactory) {\n        this.lockFactory = lockFactory;\n    }\n    LockFactoryReference.init = function (lockFactory, storageHandler) {\n        // This is copied from the other XXXReference clasess\n        if (this.instance !== undefined) {\n            return;\n        }\n        this.instance = new LockFactoryReference(\n            lockFactory !== null && lockFactory !== void 0 ? lockFactory : defaultFactory(storageHandler)\n        );\n    };\n    LockFactoryReference.getReferenceOrThrow = function () {\n        if (LockFactoryReference.instance === undefined) {\n            throw new Error(\"SuperTokensLockReference must be initialized before calling this method.\");\n        }\n        return LockFactoryReference.instance;\n    };\n    return LockFactoryReference;\n})();\nexports.LockFactoryReference = LockFactoryReference;\nexports.default = LockFactoryReference;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fireSessionUpdateEventsIfNecessary =\n    exports.setFrontToken =\n    exports.getFrontToken =\n    exports.setAntiCSRF =\n    exports.saveLastAccessTokenUpdate =\n    exports.getTokenForHeaderAuth =\n    exports.setToken =\n    exports.getStorageNameForToken =\n    exports.getLocalSessionState =\n    exports.onInvalidClaimResponse =\n    exports.onTokenUpdate =\n    exports.onUnauthorisedResponse =\n    exports.FrontToken =\n    exports.AntiCsrfToken =\n        void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar processState_1 = require(\"./processState\");\nvar version_1 = require(\"./version\");\nvar cookieHandler_1 = require(\"./utils/cookieHandler\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar lockFactory_1 = require(\"./utils/lockFactory\");\nvar logger_1 = require(\"./logger\");\nvar AntiCsrfToken = /** @class */ (function () {\n    function AntiCsrfToken() {}\n    AntiCsrfToken.getToken = function (associatedAccessTokenUpdate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var antiCsrf;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: called\");\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        if (!(AntiCsrfToken.tokenInfo === undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, getAntiCSRFToken()];\n                    case 1:\n                        antiCsrf = _a.sent();\n                        if (antiCsrf === null) {\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [3 /*break*/, 4];\n                    case 2:\n                        if (!(AntiCsrfToken.tokenInfo.associatedAccessTokenUpdate !== associatedAccessTokenUpdate))\n                            return [3 /*break*/, 4];\n                        // csrf token has changed.\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, AntiCsrfToken.getToken(associatedAccessTokenUpdate)];\n                    case 3:\n                        return [2 /*return*/, _a.sent()];\n                    case 4:\n                        (0,\n                        logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning: \" + AntiCsrfToken.tokenInfo.antiCsrf);\n                        return [2 /*return*/, AntiCsrfToken.tokenInfo.antiCsrf];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.removeToken: called\");\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, setAntiCSRF(undefined)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.setItem = function (associatedAccessTokenUpdate, antiCsrf) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            return [2 /*return*/];\n                        }\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.setItem: called\");\n                        return [4 /*yield*/, setAntiCSRF(antiCsrf)];\n                    case 1:\n                        _a.sent();\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AntiCsrfToken;\n})();\nexports.AntiCsrfToken = AntiCsrfToken;\n// Note: We do not store this in memory because another tab may have\n// modified this value, and if so, we may not know about it in this tab\nvar FrontToken = /** @class */ (function () {\n    function FrontToken() {}\n    FrontToken.getTokenInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: called\");\n                        return [4 /*yield*/, getFrontToken()];\n                    case 1:\n                        frontToken = _a.sent();\n                        if (!(frontToken === null)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 2:\n                        if (!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 4];\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        return [\n                            4 /*yield*/,\n                            new Promise(function (resolve) {\n                                FrontToken.waiters.push(resolve);\n                            })\n                        ];\n                    case 3:\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        _a.sent();\n                        return [2 /*return*/, FrontToken.getTokenInfo()];\n                    case 4:\n                        return [2 /*return*/, undefined];\n                    case 5:\n                        response = parseFrontToken(frontToken);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning ate: \" + response.ate);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning uid: \" + response.uid);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning up: \" + response.up);\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    FrontToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.removeToken: called\");\n                        return [4 /*yield*/, setFrontToken(undefined)];\n                    case 1:\n                        _a.sent();\n                        // We are clearing all stored tokens here, because:\n                        // 1. removing FrontToken signals that the session is being cleared\n                        // 2. you can only have a single active session - this means that all tokens can be cleared from all auth-modes if one is being cleared\n                        // 3. some proxies remove the empty headers used to clear the other tokens (i.e.: https://github.com/supertokens/supertokens-website/issues/218)\n                        return [4 /*yield*/, setToken(\"access\", \"\")];\n                    case 2:\n                        // We are clearing all stored tokens here, because:\n                        // 1. removing FrontToken signals that the session is being cleared\n                        // 2. you can only have a single active session - this means that all tokens can be cleared from all auth-modes if one is being cleared\n                        // 3. some proxies remove the empty headers used to clear the other tokens (i.e.: https://github.com/supertokens/supertokens-website/issues/218)\n                        _a.sent();\n                        return [4 /*yield*/, setToken(\"refresh\", \"\")];\n                    case 3:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.setItem = function (frontToken) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        return [4 /*yield*/, saveLastAccessTokenUpdate()];\n                    case 1:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        _a.sent();\n                        if (frontToken === \"remove\") {\n                            return [2 /*return*/, FrontToken.removeToken()];\n                        }\n                        (0, logger_1.logDebugMessage)(\"FrontToken.setItem: called\");\n                        return [4 /*yield*/, setFrontToken(frontToken)];\n                    case 2:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.doesTokenExists = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        return [4 /*yield*/, getFrontTokenFromCookie()];\n                    case 1:\n                        frontToken = _a.sent();\n                        return [2 /*return*/, frontToken !== null];\n                }\n            });\n        });\n    };\n    // these are waiters for when the idRefreshToken has been set, but this token has\n    // not yet been set. Once this token is set or removed, the waiters are resolved.\n    FrontToken.waiters = [];\n    return FrontToken;\n})();\nexports.FrontToken = FrontToken;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (config, recipeImpl) {\n        (0, logger_1.logDebugMessage)(\"init: called\");\n        (0, logger_1.logDebugMessage)(\"init: Input apiBasePath: \" + config.apiBasePath);\n        (0, logger_1.logDebugMessage)(\"init: Input apiDomain: \" + config.apiDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input autoAddCredentials: \" + config.autoAddCredentials);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenBackendDomain: \" + config.sessionTokenBackendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input isInIframe: \" + config.isInIframe);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionExpiredStatusCode: \" + config.sessionExpiredStatusCode);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenFrontendDomain: \" + config.sessionTokenFrontendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input tokenTransferMethod: \" + config.tokenTransferMethod);\n        var fetchedWindow = windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe();\n        AuthHttpRequest.env = fetchedWindow === undefined || fetchedWindow.fetch === undefined ? global : fetchedWindow;\n        AuthHttpRequest.refreshTokenUrl = config.apiDomain + config.apiBasePath + \"/session/refresh\";\n        AuthHttpRequest.signOutUrl = config.apiDomain + config.apiBasePath + \"/signout\";\n        AuthHttpRequest.rid = \"session\";\n        AuthHttpRequest.config = config;\n        if (AuthHttpRequest.env.__supertokensOriginalFetch === undefined) {\n            (0, logger_1.logDebugMessage)(\"init: __supertokensOriginalFetch is undefined\");\n            // this block contains code that is run just once per page load..\n            // all items in this block are attached to the global env so that\n            // even if the init function is called more than once (maybe across JS scripts),\n            // things will not get created multiple times.\n            AuthHttpRequest.env.__supertokensOriginalFetch = AuthHttpRequest.env.fetch.bind(AuthHttpRequest.env);\n            AuthHttpRequest.env.__supertokensSessionRecipe = recipeImpl;\n            AuthHttpRequest.env.fetch =\n                AuthHttpRequest.env.__supertokensSessionRecipe.addFetchInterceptorsAndReturnModifiedFetch({\n                    originalFetch: AuthHttpRequest.env.__supertokensOriginalFetch,\n                    userContext: {}\n                });\n            AuthHttpRequest.env.__supertokensSessionRecipe.addXMLHttpRequestInterceptor({\n                userContext: {}\n            });\n        }\n        AuthHttpRequest.recipeImpl = AuthHttpRequest.env.__supertokensSessionRecipe;\n        AuthHttpRequest.initCalled = true;\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.initCalled = false;\n    AuthHttpRequest.doRequest = function (httpCall, config, url) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                finalURL,\n                origHeaders,\n                accessToken,\n                refreshToken,\n                returnObj,\n                preRequestLSS,\n                clonedHeaders,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                response,\n                retry,\n                postRequestIdToken;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: start of fetch interception\");\n                        doNotDoInterception = false;\n                        try {\n                            finalURL = void 0;\n                            if (typeof url === \"string\") {\n                                finalURL = url;\n                            } else if (typeof url === \"object\") {\n                                if (typeof url.url === \"string\") {\n                                    finalURL = url.url;\n                                } else if (typeof url.href === \"string\") {\n                                    finalURL = url.href;\n                                }\n                            }\n                            doNotDoInterception = !AuthHttpRequest.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                finalURL,\n                                AuthHttpRequest.config.apiDomain,\n                                AuthHttpRequest.config.sessionTokenBackendDomain\n                            );\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception = !AuthHttpRequest.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                    windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                    AuthHttpRequest.config.apiDomain,\n                                    AuthHttpRequest.config.sessionTokenBackendDomain\n                                );\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _b.sent()];\n                    case 2:\n                        origHeaders = new Headers(\n                            config !== undefined && config.headers !== undefined ? config.headers : url.headers\n                        );\n                        if (!origHeaders.has(\"Authorization\")) return [3 /*break*/, 5];\n                        return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                    case 3:\n                        accessToken = _b.sent();\n                        return [4 /*yield*/, getTokenForHeaderAuth(\"refresh\")];\n                    case 4:\n                        refreshToken = _b.sent();\n                        if (\n                            accessToken !== undefined &&\n                            refreshToken !== undefined &&\n                            origHeaders.get(\"Authorization\") === \"Bearer \".concat(accessToken)\n                        ) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            origHeaders.delete(\"Authorization\");\n                        }\n                        _b.label = 5;\n                    case 5:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                        );\n                        _b.label = 6;\n                    case 6:\n                        _b.trys.push([6, , 20, 25]);\n                        returnObj = undefined;\n                        _b.label = 7;\n                    case 7:\n                        if (!true) return [3 /*break*/, 19];\n                        return [4 /*yield*/, getLocalSessionState(true)];\n                    case 8:\n                        preRequestLSS = _b.sent();\n                        clonedHeaders = new Headers(origHeaders);\n                        configWithAntiCsrf = __assign(__assign({}, config), { headers: clonedHeaders });\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 10];\n                        return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 9:\n                        antiCsrfToken = _b.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            clonedHeaders.set(\"anti-csrf\", antiCsrfToken);\n                        }\n                        _b.label = 10;\n                    case 10:\n                        if (AuthHttpRequest.config.autoAddCredentials) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            if (configWithAntiCsrf === undefined) {\n                                configWithAntiCsrf = {\n                                    credentials: \"include\"\n                                };\n                            } else if (configWithAntiCsrf.credentials === undefined) {\n                                configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                    credentials: \"include\"\n                                });\n                            }\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        if (!clonedHeaders.has(\"rid\")) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf\");\n                            clonedHeaders.set(\"rid\", \"anti-csrf\");\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: rid header was already there in request\");\n                        }\n                        transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        clonedHeaders.set(\"st-auth-mode\", transferMethod);\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(clonedHeaders)];\n                    case 11:\n                        _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 12:\n                        response = _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 13:\n                        _b.sent();\n                        fireSessionUpdateEventsIfNecessary(\n                            preRequestLSS.status === \"EXISTS\",\n                            response.status,\n                            response.headers.get(\"front-token\")\n                        );\n                        if (!(response.status === AuthHttpRequest.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 15];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 14:\n                        retry = _b.sent();\n                        if (retry.result !== \"RETRY\") {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                            returnObj = retry.error !== undefined ? retry.error : response;\n                            return [3 /*break*/, 19];\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 18];\n                    case 15:\n                        if (!(response.status === AuthHttpRequest.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 17];\n                        return [4 /*yield*/, onInvalidClaimResponse(response)];\n                    case 16:\n                        _b.sent();\n                        _b.label = 17;\n                    case 17:\n                        return [2 /*return*/, response];\n                    case 18:\n                        return [3 /*break*/, 7];\n                    case 19:\n                        // if it comes here, means we breaked. which happens only if we have logged out.\n                        return [2 /*return*/, returnObj];\n                    case 20:\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 21:\n                        postRequestIdToken = _b.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 24];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                    case 22:\n                        _b.sent();\n                        return [4 /*yield*/, FrontToken.removeToken()];\n                    case 23:\n                        _b.sent();\n                        _b.label = 24;\n                    case 24:\n                        return [7 /*endfinally*/];\n                    case 25:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var preRequestLSS, refresh;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 1:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 2:\n                        refresh = _b.sent();\n                        if (refresh.result === \"API_ERROR\") {\n                            throw refresh.error;\n                        }\n                        return [2 /*return*/, refresh.result === \"RETRY\"];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nvar LAST_ACCESS_TOKEN_UPDATE = \"st-last-access-token-update\";\nvar REFRESH_TOKEN_NAME = \"st-refresh-token\";\nvar ACCESS_TOKEN_NAME = \"st-access-token\";\nvar ANTI_CSRF_NAME = \"sAntiCsrf\";\nvar FRONT_TOKEN_NAME = \"sFrontToken\";\n/**\n * @description attempts to call the refresh token API each time we are sure the session has expired, or it throws an error or,\n * or the ID_COOKIE_NAME has changed value -> which may mean that we have a new set of tokens.\n */\nfunction onUnauthorisedResponse(preRequestLSS) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lock,\n            postLockLSS,\n            headers,\n            antiCsrfToken,\n            transferMethod,\n            preAPIResult,\n            response,\n            isUnauthorised,\n            error_1,\n            postRequestLSS;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, lockFactory_1.default.getReferenceOrThrow().lockFactory()];\n                case 1:\n                    lock = _b.sent();\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3 /*break*/, 24];\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: trying to acquire lock\");\n                    return [4 /*yield*/, lock.acquireLock(\"REFRESH_TOKEN_USE\", 1000)];\n                case 3:\n                    if (!_b.sent()) return [3 /*break*/, 22];\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: lock acquired\");\n                    _b.label = 4;\n                case 4:\n                    _b.trys.push([4, 14, 16, 22]);\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 5:\n                    postLockLSS = _b.sent();\n                    if (postLockLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Not refreshing because local session state is NOT_EXISTS\"\n                        );\n                        // if it comes here, it means a request was made thinking\n                        // that the session exists, but it doesn't actually exist.\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"UNAUTHORISED\",\n                            sessionExpiredOrRevoked: false,\n                            userContext: {}\n                        });\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    if (\n                        postLockLSS.status !== preRequestLSS.status ||\n                        (postLockLSS.status === \"EXISTS\" &&\n                            preRequestLSS.status === \"EXISTS\" &&\n                            postLockLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                    ) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Retrying early because pre and post id refresh tokens don't match\"\n                        );\n                        // means that some other process has already called this API and succeeded. so we need to call it again\n                        return [2 /*return*/, { result: \"RETRY\" }];\n                    }\n                    headers = new Headers();\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 6:\n                    antiCsrfToken = _b.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Adding anti-csrf token to refresh API call\"\n                        );\n                        headers.set(\"anti-csrf\", antiCsrfToken);\n                    }\n                    _b.label = 7;\n                case 7:\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding rid and fdi-versions to refresh call header\");\n                    headers.set(\"rid\", AuthHttpRequest.rid);\n                    headers.set(\"fdi-version\", version_1.supported_fdi.join(\",\"));\n                    transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding st-auth-mode header: \" + transferMethod);\n                    headers.set(\"st-auth-mode\", transferMethod);\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(headers, true)];\n                case 8:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Calling refresh pre API hook\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.preAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            requestInit: {\n                                method: \"post\",\n                                credentials: \"include\",\n                                headers: headers\n                            },\n                            url: AuthHttpRequest.refreshTokenUrl,\n                            userContext: {}\n                        })\n                    ];\n                case 9:\n                    preAPIResult = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Making refresh call\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.env.__supertokensOriginalFetch(preAPIResult.url, preAPIResult.requestInit)\n                    ];\n                case 10:\n                    response = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh call ended\");\n                    return [4 /*yield*/, saveTokensFromHeaders(response)];\n                case 11:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh status code is: \" + response.status);\n                    isUnauthorised = response.status === AuthHttpRequest.config.sessionExpiredStatusCode;\n                    // There is a case where the FE thinks the session is valid, but backend doesn't get the tokens.\n                    // In this event, session expired error will be thrown and the frontend should remove this token\n                    if (isUnauthorised && response.headers.get(\"front-token\") === null) {\n                        FrontToken.setItem(\"remove\");\n                    }\n                    fireSessionUpdateEventsIfNecessary(\n                        preRequestLSS.status === \"EXISTS\",\n                        response.status,\n                        isUnauthorised && response.headers.get(\"front-token\") === null\n                            ? \"remove\"\n                            : response.headers.get(\"front-token\")\n                    );\n                    if (response.status >= 300) {\n                        throw response;\n                    }\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.postAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            fetchResponse: response.clone(),\n                            requestInit: preAPIResult.requestInit,\n                            url: preAPIResult.url,\n                            userContext: {}\n                        })\n                    ];\n                case 12:\n                    _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 13:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // The execution should never come here.. but just in case.\n                        // removed by server during refresh. So we logout\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    AuthHttpRequest.config.onHandleEvent({\n                        action: \"REFRESH_SESSION\",\n                        userContext: {}\n                    });\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Sending RETRY signal\");\n                    return [2 /*return*/, { result: \"RETRY\" }];\n                case 14:\n                    error_1 = _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 15:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // removed by server.\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\", error: error_1 }];\n                    }\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: sending API_ERROR\");\n                    return [2 /*return*/, { result: \"API_ERROR\", error: error_1 }];\n                case 16:\n                    return [4 /*yield*/, lock.releaseLock(\"REFRESH_TOKEN_USE\")];\n                case 17:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Released lock\");\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 18:\n                    if (!(_b.sent().status === \"NOT_EXISTS\")) return [3 /*break*/, 21];\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                    return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                case 19:\n                    _b.sent();\n                    return [4 /*yield*/, FrontToken.removeToken()];\n                case 20:\n                    _b.sent();\n                    _b.label = 21;\n                case 21:\n                    return [7 /*endfinally*/];\n                case 22:\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 23:\n                    postRequestLSS = _b.sent();\n                    if (postRequestLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: lock acquired failed and local session doesn't exist, so sending SESSION_EXPIRED\"\n                        );\n                        // removed by server. So we logout\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    } else {\n                        if (\n                            postRequestLSS.status !== preRequestLSS.status ||\n                            (postRequestLSS.status === \"EXISTS\" &&\n                                preRequestLSS.status === \"EXISTS\" &&\n                                postRequestLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"onUnauthorisedResponse: lock acquired failed and retrying early because pre and post id refresh tokens don't match\"\n                            );\n                            return [2 /*return*/, { result: \"RETRY\" }];\n                        }\n                        // here we try to call the API again since we probably failed to acquire lock and nothing has changed.\n                    }\n                    return [3 /*break*/, 2];\n                case 24:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onUnauthorisedResponse = onUnauthorisedResponse;\nfunction onTokenUpdate() {\n    (0, logger_1.logDebugMessage)(\"onTokenUpdate: firing ACCESS_TOKEN_PAYLOAD_UPDATED event\");\n    AuthHttpRequest.config.onHandleEvent({\n        action: \"ACCESS_TOKEN_PAYLOAD_UPDATED\",\n        userContext: {}\n    });\n}\nexports.onTokenUpdate = onTokenUpdate;\nfunction onInvalidClaimResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var claimValidationErrors, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.recipeImpl.getInvalidClaimsFromResponse({\n                            response: response,\n                            userContext: {}\n                        })\n                    ];\n                case 1:\n                    claimValidationErrors = _c.sent();\n                    // This shouldn't be undefined normally, but since we can't be certain about the shape of the response object so we check it like this.\n                    // It could still be something else, but chance of that happening by accident is really low.\n                    if (claimValidationErrors) {\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"API_INVALID_CLAIM\",\n                            claimValidationErrors: claimValidationErrors,\n                            userContext: {}\n                        });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b = _c.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onInvalidClaimResponse = onInvalidClaimResponse;\n// if tryRefresh is true & this token doesn't exist, we try and refresh the session\n// else we return undefined.\nfunction getLocalSessionState(tryRefresh) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lastAccessTokenUpdate, frontTokenExists, response, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: called\");\n                    return [4 /*yield*/, getFromCookies(LAST_ACCESS_TOKEN_UPDATE)];\n                case 1:\n                    lastAccessTokenUpdate = _b.sent();\n                    return [4 /*yield*/, FrontToken.doesTokenExists()];\n                case 2:\n                    frontTokenExists = _b.sent();\n                    if (!(frontTokenExists && lastAccessTokenUpdate !== undefined)) return [3 /*break*/, 3];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning EXISTS since both frontToken and lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"EXISTS\", lastAccessTokenUpdate: lastAccessTokenUpdate }];\n                case 3:\n                    if (!lastAccessTokenUpdate) return [3 /*break*/, 4];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning NOT_EXISTS since frontToken was cleared but lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"NOT_EXISTS\" }];\n                case 4:\n                    response = {\n                        status: \"MAY_EXIST\"\n                    };\n                    if (!tryRefresh) return [3 /*break*/, 7];\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: trying to refresh\");\n                    return [4 /*yield*/, onUnauthorisedResponse(response)];\n                case 5:\n                    res = _b.sent();\n                    if (res.result !== \"RETRY\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"getLocalSessionState: return NOT_EXISTS in case error from backend\" + res.result\n                        );\n                        // in case the backend is not working, we treat it as the session not existing...\n                        return [\n                            2 /*return*/,\n                            {\n                                status: \"NOT_EXISTS\"\n                            }\n                        ];\n                    }\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: Retrying post refresh\");\n                    return [4 /*yield*/, getLocalSessionState(tryRefresh)];\n                case 6:\n                    return [2 /*return*/, _b.sent()];\n                case 7:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: returning: \" + response.status);\n                    return [2 /*return*/, response];\n            }\n        });\n    });\n}\nexports.getLocalSessionState = getLocalSessionState;\nfunction getStorageNameForToken(tokenType) {\n    switch (tokenType) {\n        case \"access\":\n            return ACCESS_TOKEN_NAME;\n        case \"refresh\":\n            return REFRESH_TOKEN_NAME;\n    }\n}\nexports.getStorageNameForToken = getStorageNameForToken;\nfunction setToken(tokenType, value) {\n    var name = getStorageNameForToken(tokenType);\n    if (value !== \"\") {\n        (0, logger_1.logDebugMessage)(\"setToken: saved \".concat(tokenType, \" token into cookies\"));\n        // We save the tokens with a 100-year expiration time\n        return storeInCookies(name, value, Date.now() + 3153600000);\n    } else {\n        (0, logger_1.logDebugMessage)(\"setToken: cleared \".concat(tokenType, \" token from cookies\"));\n        return storeInCookies(name, value, 0);\n    }\n}\nexports.setToken = setToken;\nfunction storeInCookies(name, value, expiry) {\n    var expires = \"Fri, 31 Dec 9999 23:59:59 GMT\";\n    if (expiry !== Number.MAX_SAFE_INTEGER) {\n        // We should respect the storage expirations set by the backend, even though tokens will also be checked elsewhere.\n        // We check them locally in case of front-token, and on the backend enforces the validity period for access and refresh tokens.\n        expires = new Date(expiry).toUTCString();\n    }\n    var domain = AuthHttpRequest.config.sessionTokenFrontendDomain;\n    if (\n        domain === \"localhost\" ||\n        domain === windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName()\n    ) {\n        // since some browsers ignore cookies with domain set to localhost\n        // see https://github.com/supertokens/supertokens-website/issues/25\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    } else {\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";domain=\")\n                .concat(domain, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    }\n}\nfunction getTokenForHeaderAuth(tokenType) {\n    return __awaiter(this, void 0, void 0, function () {\n        var name;\n        return __generator(this, function (_b) {\n            name = getStorageNameForToken(tokenType);\n            return [2 /*return*/, getFromCookies(name)];\n        });\n    });\n}\nexports.getTokenForHeaderAuth = getTokenForHeaderAuth;\nfunction getFromCookies(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _b, parts, last;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _b = \"; \";\n                    return [4 /*yield*/, cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()];\n                case 1:\n                    value = _b + _c.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            return [2 /*return*/, last.split(\";\").shift()];\n                        }\n                    }\n                    return [2 /*return*/, undefined];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(clonedHeaders, addRefreshToken) {\n    if (addRefreshToken === void 0) {\n        addRefreshToken = false;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setTokenHeaders: adding existing tokens as header\");\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't always need the refresh token because that's only required by the refresh call\n                    // Still, we only add the access token to Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token without using header based auth\n                    // We can add the refresh token even if only that one is present, to make manual testing easier - you can then\n                    // force a refresh by just deleting the access token.\n                    if ((addRefreshToken || accessToken !== undefined) && refreshToken !== undefined) {\n                        // the Headers class normalizes header names so we don't have to worry about casing\n                        if (clonedHeaders.has(\"Authorization\")) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            clonedHeaders.set(\n                                \"Authorization\",\n                                \"Bearer \".concat(addRefreshToken ? refreshToken : accessToken)\n                            );\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0,\n                    logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response headers\");\n                    refreshToken = response.headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, setToken(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, setToken(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveLastAccessTokenUpdate() {\n    return __awaiter(this, void 0, void 0, function () {\n        var now;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: called\");\n                    now = Date.now().toString();\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: setting \" + now);\n                    return [4 /*yield*/, storeInCookies(LAST_ACCESS_TOKEN_UPDATE, now, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    return [4 /*yield*/, storeInCookies(\"sIRTFrontend\", \"\", 0)];\n                case 2:\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    _b.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.saveLastAccessTokenUpdate = saveLastAccessTokenUpdate;\nfunction getAntiCSRFToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        function getAntiCSRFromCookie() {\n            return __awaiter(this, void 0, void 0, function () {\n                var value, _b, parts, last, temp;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _b = \"; \";\n                            return [\n                                4 /*yield*/,\n                                cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()\n                            ];\n                        case 1:\n                            value = _b + _c.sent();\n                            parts = value.split(\"; \" + ANTI_CSRF_NAME + \"=\");\n                            if (parts.length >= 2) {\n                                last = parts.pop();\n                                if (last !== undefined) {\n                                    temp = last.split(\";\").shift();\n                                    if (temp === undefined) {\n                                        return [2 /*return*/, null];\n                                    }\n                                    return [2 /*return*/, temp];\n                                }\n                            }\n                            return [2 /*return*/, null];\n                    }\n                });\n            });\n        }\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here cause the user might override that\n                    // function here and then it may break the logic of our original implementation.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\n                            \"getAntiCSRFToken: Returning because local session state != EXISTS\"\n                        );\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getAntiCSRFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\n// give antiCSRFToken as undefined to remove it.\nfunction setAntiCSRF(antiCSRFToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAntiCSRF: called: \" + antiCSRFToken);\n                    if (!(antiCSRFToken !== undefined)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, antiCSRFToken, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, \"\", 0)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setAntiCSRF = setAntiCSRF;\nfunction getFrontTokenFromCookie() {\n    return __awaiter(this, void 0, void 0, function () {\n        var val;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontTokenFromCookie: called\");\n                    return [4 /*yield*/, getFromCookies(FRONT_TOKEN_NAME)];\n                case 1:\n                    val = _b.sent();\n                    return [2 /*return*/, val === undefined ? null : val];\n            }\n        });\n    });\n}\nfunction parseFrontToken(frontToken) {\n    return JSON.parse(decodeURIComponent(escape(atob(frontToken))));\n}\nfunction getFrontToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here because that directly calls this function.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\"getFrontToken: Returning because sIRTFrontend != EXISTS\");\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\nexports.getFrontToken = getFrontToken;\nfunction setFrontToken(frontToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var oldToken, oldPayload, newPayload;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setFrontToken: called\");\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 1:\n                    oldToken = _b.sent();\n                    if (oldToken !== null && frontToken !== undefined) {\n                        oldPayload = parseFrontToken(oldToken).up;\n                        newPayload = parseFrontToken(frontToken).up;\n                        if (JSON.stringify(oldPayload) !== JSON.stringify(newPayload)) {\n                            onTokenUpdate();\n                        }\n                    }\n                    if (!(frontToken === undefined)) return [3 /*break*/, 3];\n                    // clear the cookie\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, \"\", 0)];\n                case 2:\n                    // clear the cookie\n                    _b.sent();\n                    return [3 /*break*/, 5];\n                case 3:\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, frontToken, Number.MAX_SAFE_INTEGER)];\n                case 4:\n                    _b.sent();\n                    _b.label = 5;\n                case 5:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setFrontToken = setFrontToken;\nfunction fireSessionUpdateEventsIfNecessary(wasLoggedIn, status, frontTokenHeaderFromResponse) {\n    // In case we've received a 401 that didn't clear the session (e.g.: we've sent no session token, or we should try refreshing)\n    // then onUnauthorised will handle firing the UNAUTHORISED event if necessary\n    // In some rare cases (where we receive a 401 that also clears the session) this will fire the event twice.\n    // This may be considered a bug, but it is the existing behaviour before the rework\n    if (frontTokenHeaderFromResponse === undefined || frontTokenHeaderFromResponse === null) {\n        // The access token (and the session) hasn't been updated.\n        (0, logger_1.logDebugMessage)(\n            \"fireSessionUpdateEventsIfNecessary returning early because the front token was not updated\"\n        );\n        return;\n    }\n    // if the current endpoint clears the session it'll set the front-token to remove\n    // any other update means it's created or updated.\n    var frontTokenExistsAfter = frontTokenHeaderFromResponse !== \"remove\";\n    (0, logger_1.logDebugMessage)(\n        \"fireSessionUpdateEventsIfNecessary wasLoggedIn: \"\n            .concat(wasLoggedIn, \" frontTokenExistsAfter: \")\n            .concat(frontTokenExistsAfter, \" status: \")\n            .concat(status)\n    );\n    if (wasLoggedIn) {\n        // we check for wasLoggedIn cause we don't want to fire an event\n        // unnecessarily on first app load or if the user tried\n        // to query an API that returned 401 while the user was not logged in...\n        if (!frontTokenExistsAfter) {\n            if (status === AuthHttpRequest.config.sessionExpiredStatusCode) {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing UNAUTHORISED event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"UNAUTHORISED\",\n                    sessionExpiredOrRevoked: true,\n                    userContext: {}\n                });\n            } else {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SIGN_OUT event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"SIGN_OUT\",\n                    userContext: {}\n                });\n            }\n        }\n    } else if (frontTokenExistsAfter) {\n        (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SESSION_CREATED event\");\n        AuthHttpRequest.config.onHandleEvent({\n            action: \"SESSION_CREATED\",\n            userContext: {}\n        });\n    }\n}\nexports.fireSessionUpdateEventsIfNecessary = fireSessionUpdateEventsIfNecessary;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionClaimValidatorStore = void 0;\nvar SessionClaimValidatorStore = /** @class */ (function () {\n    function SessionClaimValidatorStore() {}\n    SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes = [];\n    SessionClaimValidatorStore.addClaimValidatorFromOtherRecipe = function (builder) {\n        SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes.push(builder);\n    };\n    SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes = function () {\n        return SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes;\n    };\n    return SessionClaimValidatorStore;\n})();\nexports.SessionClaimValidatorStore = SessionClaimValidatorStore;\nexports.default = SessionClaimValidatorStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getGlobalClaimValidators = void 0;\nvar _1 = require(\".\");\nvar fetch_1 = require(\"../fetch\");\nvar sessionClaimValidatorStore_1 = require(\"./sessionClaimValidatorStore\");\nfunction getGlobalClaimValidators(overrideGlobalClaimValidators, userContext) {\n    var normalisedUserContext = (0, _1.getNormalisedUserContext)(userContext);\n    var claimValidatorsAddedByOtherRecipes =\n        sessionClaimValidatorStore_1.default.getClaimValidatorsAddedByOtherRecipes();\n    var globalClaimValidators = fetch_1.default.recipeImpl.getGlobalClaimValidators({\n        claimValidatorsAddedByOtherRecipes: claimValidatorsAddedByOtherRecipes,\n        userContext: normalisedUserContext\n    });\n    var claimValidators =\n        overrideGlobalClaimValidators !== undefined\n            ? overrideGlobalClaimValidators(globalClaimValidators, normalisedUserContext)\n            : globalClaimValidators;\n    return claimValidators;\n}\nexports.getGlobalClaimValidators = getGlobalClaimValidators;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/globalClaimValidators\"));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseUser =\n    exports.normaliseUserResponse =\n    exports.getGlobalClaimValidators =\n    exports.getHashFromLocation =\n    exports.getNormalisedUserContext =\n    exports.checkForSSRErrorAndAppendIfNeeded =\n    exports.getAllQueryParams =\n    exports.getQueryParams =\n    exports.isTest =\n    exports.normaliseInputAppInfoOrThrowError =\n    exports.appendQueryParamsToURL =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar windowHandler_1 = require(\"./windowHandler\");\nvar constants_1 = require(\"./constants\");\nvar normalisedURLDomain_1 = require(\"./normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nvar globalClaimValidators_1 = require(\"supertokens-website/utils/globalClaimValidators\");\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new normalisedURLPath_1.default(path);\n    } else {\n        return new normalisedURLPath_1.default(defaultPath);\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new normalisedURLPath_1.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new normalisedURLPath_1.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new normalisedURLDomain_1.default(appInfo.apiDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(constants_1.DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n    };\n}\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nexports.isTest = isTest;\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    var queryParam = urlParams.get(param);\n    if (queryParam === null) {\n        return undefined;\n    }\n    return queryParam;\n}\nexports.getQueryParams = getQueryParams;\nfunction getAllQueryParams() {\n    return new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n}\nexports.getAllQueryParams = getAllQueryParams;\nfunction checkForSSRErrorAndAppendIfNeeded(error) {\n    // tslint:disable-next-line\n    if (typeof window === \"undefined\") {\n        error = error + constants_1.SSR_ERROR;\n    }\n    return error;\n}\nexports.checkForSSRErrorAndAppendIfNeeded = checkForSSRErrorAndAppendIfNeeded;\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\nfunction getHashFromLocation() {\n    // By default it is returned with the \"#\" at the beginning, we cut that off here.\n    return windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substring(1);\n}\nexports.getHashFromLocation = getHashFromLocation;\nfunction getGlobalClaimValidators(_a) {\n    var overrideGlobalClaimValidators = _a.overrideGlobalClaimValidators,\n        userContext = _a.userContext;\n    return (0, globalClaimValidators_1.getGlobalClaimValidators)(overrideGlobalClaimValidators, userContext);\n}\nexports.getGlobalClaimValidators = getGlobalClaimValidators;\nfunction normaliseUserResponse(recipeId, response) {\n    if (\"createdNewRecipeUser\" in response) {\n        return response;\n    }\n    return {\n        createdNewRecipeUser: response.createdNewUser,\n        user: normaliseUser(recipeId, response.user),\n    };\n}\nexports.normaliseUserResponse = normaliseUserResponse;\nfunction normaliseUser(recipeId, responseUser) {\n    if (\"loginMethods\" in responseUser) {\n        return responseUser;\n    }\n    var emails = responseUser.email !== undefined ? [responseUser.email] : [];\n    var phoneNumbers = responseUser.phoneNumber !== undefined ? [responseUser.phoneNumber] : [];\n    var thirdParty = responseUser.thirdParty !== undefined ? [responseUser.thirdParty] : [];\n    return {\n        id: responseUser.id,\n        emails: emails,\n        phoneNumbers: phoneNumbers,\n        thirdParty: thirdParty,\n        isPrimaryUser: false,\n        tenantIds: responseUser.tenantIds,\n        timeJoined: responseUser.timeJoined,\n        loginMethods: [\n            {\n                recipeId: recipeId,\n                recipeUserId: responseUser.id,\n                timeJoined: responseUser.timeJoined,\n                tenantIds: responseUser.tenantIds,\n                email: responseUser.email,\n                phoneNumber: responseUser.email,\n            },\n        ],\n    };\n}\nexports.normaliseUser = normaliseUser;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.STGeneralError = void 0;\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar STGeneralError = /** @class */ (function (_super) {\n    __extends(STGeneralError, _super);\n    function STGeneralError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.isSuperTokensGeneralError = true;\n        return _this;\n    }\n    STGeneralError.isThisError = function (err) {\n        return err.isSuperTokensGeneralError === true;\n    };\n    return STGeneralError;\n})(Error);\nexports.STGeneralError = STGeneralError;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../../lib/build/error\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar error_1 = require(\"supertokens-website/utils/error\");\nexports.default = error_1.STGeneralError;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseRecipeModuleConfig = void 0;\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    var preAPIHook = config.preAPIHook;\n    if (preAPIHook === undefined) {\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    var postAPIHook = config.postAPIHook;\n    if (postAPIHook === undefined) {\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    return {\n        recipeId: config.recipeId,\n        appInfo: config.appInfo,\n        clientType: config.clientType,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n    };\n}\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseAuthRecipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../recipeModule/utils\");\nfunction normaliseAuthRecipe(config) {\n    return (0, utils_1.normaliseRecipeModuleConfig)(config);\n}\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseUserInput = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../authRecipe/utils\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProxyObject = void 0;\nfunction getProxyObject(orig) {\n    var ret = __assign(__assign({}, orig), { _call: function (_, __) {\n            throw new Error(\"This function should only be called through the recipe object\");\n        } });\n    var keys = Object.keys(ret);\n    var _loop_1 = function (k) {\n        if (k !== \"_call\") {\n            ret[k] = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return this._call(k, args);\n            };\n        }\n    };\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        _loop_1(k);\n    }\n    return ret;\n}\nexports.getProxyObject = getProxyObject;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OverrideableBuilder = void 0;\nvar getProxyObject_1 = require(\"./getProxyObject\");\nvar OverrideableBuilder = /** @class */ (function () {\n    function OverrideableBuilder(originalImplementation) {\n        this.layers = [originalImplementation];\n        this.proxies = [];\n    }\n    OverrideableBuilder.prototype.override = function (overrideFunc) {\n        var proxy = (0, getProxyObject_1.getProxyObject)(this.layers[0]);\n        var layer = overrideFunc(proxy, this);\n        for (var _i = 0, _a = Object.keys(this.layers[0]); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (layer[key] === proxy[key] || key === \"_call\") {\n                delete layer[key];\n            }\n            else if (layer[key] === undefined) {\n                layer[key] = null;\n            }\n        }\n        this.layers.push(layer);\n        this.proxies.push(proxy);\n        return this;\n    };\n    OverrideableBuilder.prototype.build = function () {\n        var _this = this;\n        if (this.result) {\n            return this.result;\n        }\n        this.result = {};\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n            var layer = _a[_i];\n            for (var _b = 0, _c = Object.keys(layer); _b < _c.length; _b++) {\n                var key = _c[_b];\n                var override = layer[key];\n                if (override !== undefined) {\n                    if (override === null) {\n                        this.result[key] = undefined;\n                    }\n                    else if (typeof override === \"function\") {\n                        this.result[key] = override.bind(this.result);\n                    }\n                    else {\n                        this.result[key] = override;\n                    }\n                }\n            }\n        }\n        var _loop_1 = function (proxyInd) {\n            var proxy = this_1.proxies[proxyInd];\n            proxy._call = function (fname, args) {\n                for (var i = proxyInd; i >= 0; --i) {\n                    var func = _this.layers[i][fname];\n                    if (func !== undefined && func !== null) {\n                        return func.bind(_this.result).apply(void 0, args);\n                    }\n                }\n            };\n        };\n        var this_1 = this;\n        for (var proxyInd = 0; proxyInd < this.proxies.length; ++proxyInd) {\n            _loop_1(proxyInd);\n        }\n        return this.result;\n    };\n    return OverrideableBuilder;\n}());\nexports.OverrideableBuilder = OverrideableBuilder;\nexports.default = OverrideableBuilder;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"0.8.0\";\nexports.supported_fdi = [\"1.17\", \"1.18\"];\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nvar version_1 = require(\"./version\");\nvar error_1 = require(\"./error\");\n/**\n * When network calls are made the Querier calls .clone() on the response before:\n * 1. Calling the post API hook\n * 2. Calling .json() when trying to read the body\n *\n * This is because the SDK needs to read the json body but we also want to allow users to read\n * the json body themselves (either in the post api hook or from the result of recipe functions)\n * for custom response handling. Since the body can only be read once we use .clone() to allow\n * for multiple reads.\n */\nvar Querier = /** @class */ (function () {\n    function Querier(recipeId, appInfo) {\n        var _this = this;\n        this.recipeId = recipeId;\n        this.appInfo = appInfo;\n        this.get = function (tenantId, path, config, queryParams, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path, queryParams),\n                                    __assign({ method: \"GET\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.post = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (config.body === undefined) {\n                                throw new Error(\"Post request must have a body\");\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"POST\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.delete = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"DELETE\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.put = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"PUT\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.fetch = function (url, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var headers, _b, requestInit, modifiedUrl, result, reponseForPostAPI;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (config === undefined) {\n                                headers = {};\n                            } else {\n                                headers = config.headers;\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.callPreAPIHook({\n                                    preAPIHook: preAPIHook,\n                                    url: url,\n                                    requestInit: __assign(__assign({}, config), {\n                                        headers: __assign(__assign({}, headers), {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            \"Content-Type\": \"application/json\",\n                                            rid: this.recipeId,\n                                        }),\n                                    }),\n                                }),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (requestInit = _b.requestInit), (modifiedUrl = _b.url);\n                            return [4 /*yield*/, fetch(modifiedUrl, requestInit)];\n                        case 2:\n                            result = _c.sent();\n                            if (result.status >= 300) {\n                                throw result;\n                            }\n                            if (!(postAPIHook !== undefined)) return [3 /*break*/, 4];\n                            reponseForPostAPI = result.clone();\n                            return [\n                                4 /*yield*/,\n                                postAPIHook({\n                                    requestInit: requestInit,\n                                    url: url,\n                                    fetchResponse: reponseForPostAPI,\n                                }),\n                            ];\n                        case 3:\n                            _c.sent();\n                            _c.label = 4;\n                        case 4:\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        /*\n         * For backward compatibility\n         */\n        this.callPreAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (context.preAPIHook === undefined) {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        url: context.url,\n                                        requestInit: context.requestInit,\n                                    },\n                                ];\n                            }\n                            return [\n                                4 /*yield*/,\n                                context.preAPIHook({\n                                    url: context.url,\n                                    requestInit: context.requestInit,\n                                }),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        this.getFullUrl = function (tenantId, pathStr, queryParams) {\n            var basePath = _this.appInfo.apiBasePath.getAsStringDangerous();\n            if (tenantId !== undefined && tenantId !== \"public\") {\n                basePath = \"\".concat(basePath, \"/\").concat(tenantId);\n            }\n            var path = new normalisedURLPath_1.default(pathStr);\n            var fullUrl = \"\"\n                .concat(_this.appInfo.apiDomain.getAsStringDangerous())\n                .concat(basePath)\n                .concat(path.getAsStringDangerous());\n            if (queryParams === undefined) {\n                return fullUrl;\n            }\n            // If query params, add.\n            return fullUrl + \"?\" + new URLSearchParams(queryParams);\n        };\n        this.getResponseJsonOrThrowGeneralError = function (response) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var json, message;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [4 /*yield*/, response.clone().json()];\n                        case 1:\n                            json = _b.sent();\n                            if (json.status === \"GENERAL_ERROR\") {\n                                message = json.message === undefined ? \"No Error Message Provided\" : json.message;\n                                throw new error_1.default(message);\n                            }\n                            return [2 /*return*/, json];\n                    }\n                });\n            });\n        };\n    }\n    var _a;\n    _a = Querier;\n    Querier.preparePreAPIHook = function (_b) {\n        var recipePreAPIHook = _b.recipePreAPIHook,\n            action = _b.action,\n            options = _b.options,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var postRecipeHookContext;\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePreAPIHook(\n                                    __assign(__assign({}, context), { action: action, userContext: userContext })\n                                ),\n                            ];\n                        case 1:\n                            postRecipeHookContext = _b.sent();\n                            if (options === undefined || options.preAPIHook === undefined) {\n                                return [2 /*return*/, postRecipeHookContext];\n                            }\n                            return [\n                                2 /*return*/,\n                                options.preAPIHook({\n                                    url: postRecipeHookContext.url,\n                                    requestInit: postRecipeHookContext.requestInit,\n                                    userContext: userContext,\n                                }),\n                            ];\n                    }\n                });\n            });\n        };\n    };\n    Querier.preparePostAPIHook = function (_b) {\n        var recipePostAPIHook = _b.recipePostAPIHook,\n            action = _b.action,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePostAPIHook(\n                                    __assign(__assign({}, context), { userContext: userContext, action: action })\n                                ),\n                            ];\n                        case 1:\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    };\n    return Querier;\n})();\nexports.default = Querier;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRecipeImplementation = void 0;\nvar querier_1 = require(\"../../querier\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        getTenantId: function () {\n            return undefined; // This defaults to the \"public\" tenant\n        },\n        getLoginMethods: function (_a) {\n            var tenantId = _a.tenantId,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var queryParams, _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            queryParams = {};\n                            if (recipeImplInput.clientType !== undefined) {\n                                queryParams.clientType = recipeImplInput.clientType;\n                            }\n                            return [\n                                4 /*yield*/,\n                                querier.get(\n                                    tenantId,\n                                    \"/loginmethods\",\n                                    {},\n                                    queryParams,\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [2 /*return*/, __assign(__assign({}, jsonBody), { fetchResponse: fetchResponse })];\n                    }\n                });\n            });\n        },\n    };\n}\nexports.default = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecipeModule = /** @class */ (function () {\n    function RecipeModule(config) {\n        this.config = config;\n    }\n    return RecipeModule;\n})();\nexports.default = RecipeModule;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAxiosErrorFromAxiosResp = exports.createAxiosErrorFromFetchResp = void 0;\n/**\n * From axios package\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceAxiosError(error, config, code, request, response) {\n    error.config = config;\n    if (code) {\n        error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    error.isAxiosError = true;\n    error.toJSON = function toJSON() {\n        return {\n            // Standard\n            message: this.message,\n            name: this.name,\n            // Microsoft\n            description: this.description,\n            number: this.number,\n            // Mozilla\n            fileName: this.fileName,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            stack: this.stack,\n            // Axios\n            config: this.config,\n            code: this.code\n        };\n    };\n    return error;\n}\nfunction createAxiosErrorFromFetchResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var config, contentType, data, _a, axiosResponse;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    config = {\n                        url: response.url,\n                        headers: response.headers\n                    };\n                    contentType = response.headers.get(\"content-type\");\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _b.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 11];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 9:\n                    return [4 /*yield*/, response.blob()];\n                case 10:\n                    data = _b.sent();\n                    _b.label = 11;\n                case 11:\n                    axiosResponse = {\n                        data: data,\n                        status: response.status,\n                        statusText: response.statusText,\n                        headers: response.headers,\n                        config: config,\n                        request: undefined\n                    };\n                    return [\n                        2 /*return*/,\n                        enhanceAxiosError(\n                            new Error(\"Request failed with status code \" + response.status),\n                            config,\n                            undefined,\n                            undefined,\n                            axiosResponse\n                        )\n                    ];\n            }\n        });\n    });\n}\nexports.createAxiosErrorFromFetchResp = createAxiosErrorFromFetchResp;\nfunction createAxiosErrorFromAxiosResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [\n                2 /*return*/,\n                enhanceAxiosError(\n                    new Error(\"Request failed with status code \" + response.status),\n                    response.config,\n                    undefined,\n                    response.request,\n                    response\n                )\n            ];\n        });\n    });\n}\nexports.createAxiosErrorFromAxiosResp = createAxiosErrorFromAxiosResp;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.responseErrorInterceptor = exports.responseInterceptor = exports.interceptorFunctionRequestFulfilled = void 0;\nvar axiosError_1 = require(\"./axiosError\");\nvar fetch_1 = require(\"./fetch\");\nvar processState_1 = require(\"./processState\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar logger_1 = require(\"./logger\");\nfunction getUrlFromConfig(config) {\n    var url = config.url === undefined ? \"\" : config.url;\n    var baseURL = config.baseURL;\n    if (baseURL !== undefined) {\n        if (url.charAt(0) === \"/\" && baseURL.charAt(baseURL.length - 1) === \"/\") {\n            url = baseURL + url.substr(1);\n        } else if (url.charAt(0) !== \"/\" && baseURL.charAt(baseURL.length - 1) !== \"/\") {\n            url = baseURL + \"/\" + url;\n        } else {\n            url = baseURL + url;\n        }\n    }\n    return url;\n}\nfunction interceptorFunctionRequestFulfilled(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var url, doNotDoInterception, preRequestLSS, configWithAntiCsrf, antiCsrfToken, transferMethod;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: started axios interception\");\n                    url = getUrlFromConfig(config);\n                    doNotDoInterception = false;\n                    try {\n                        doNotDoInterception =\n                            typeof url === \"string\" &&\n                            !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                url,\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                    } catch (err) {\n                        if (err.message === \"Please provide a valid domain name\") {\n                            (0, logger_1.logDebugMessage)(\n                                \"interceptorFunctionRequestFulfilled: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                            );\n                            // .origin gives the port as well..\n                            doNotDoInterception = !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                        } else {\n                            throw err;\n                        }\n                    }\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Value of doNotDoInterception: \" + doNotDoInterception);\n                    if (doNotDoInterception) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Returning config unchanged\"\n                        );\n                        // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                        return [2 /*return*/, config];\n                    }\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Modifying config\");\n                    processState_1.ProcessState.getInstance().addState(\n                        processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                    );\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 1:\n                    preRequestLSS = _a.sent();\n                    configWithAntiCsrf = config;\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 2:\n                    antiCsrfToken = _a.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding anti-csrf token to request\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          \"anti-csrf\": antiCsrfToken\n                                      }\n                                    : __assign(__assign({}, configWithAntiCsrf.headers), { \"anti-csrf\": antiCsrfToken })\n                        });\n                    }\n                    _a.label = 3;\n                case 3:\n                    if (fetch_1.default.config.autoAddCredentials && configWithAntiCsrf.withCredentials === undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding credentials include\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                    }\n                    // adding rid for anti-csrf protection: Anti-csrf via custom header\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding rid header: anti-csrf (it may be overriden by the user's provided rid)\");\n                    configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                        headers:\n                            configWithAntiCsrf === undefined\n                                ? {\n                                      rid: \"anti-csrf\"\n                                  }\n                                : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                    });\n                    transferMethod = fetch_1.default.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding st-auth-mode header: \" + transferMethod);\n                    configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                    return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(configWithAntiCsrf)];\n                case 4:\n                    configWithAntiCsrf = _a.sent();\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                case 5:\n                    _a.sent();\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: returning modified config\");\n                    return [2 /*return*/, configWithAntiCsrf];\n            }\n        });\n    });\n}\nexports.interceptorFunctionRequestFulfilled = interceptorFunctionRequestFulfilled;\nfunction responseInterceptor(axiosInstance) {\n    var _this = this;\n    return function (response) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var doNotDoInterception, url, preRequestLSS, config, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        doNotDoInterception = false;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, , 8, 14]);\n                        if (!fetch_1.default.initCalled) {\n                            throw new Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: started\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: already intercepted: \" + response.headers[\"x-supertokens-xhr-intercepted\"]);\n                        url = getUrlFromConfig(response.config);\n                        try {\n                            doNotDoInterception =\n                                (typeof url === \"string\" &&\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        url,\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    )) ||\n                                !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"responseInterceptor: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) || !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (doNotDoInterception) {\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Returning without interception\");\n                            // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                            return [2 /*return*/, response];\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                        );\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 2:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 3:\n                        _b.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 4];\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + response.status);\n                        config = response.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                url,\n                                response,\n                                undefined,\n                                true\n                            )\n                        ];\n                    case 4:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 6];\n                        // only fire event if body is defined.\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 5:\n                        // only fire event if body is defined.\n                        _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        return [2 /*return*/, response];\n                    case 7:\n                        return [3 /*break*/, 14];\n                    case 8:\n                        _a = !doNotDoInterception;\n                        if (!_a) return [3 /*break*/, 10];\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 9:\n                        // we do not call doesSessionExist here cause the user might override that\n                        // function here and then it may break the logic of our original implementation.\n                        _a = !(_b.sent().status === \"EXISTS\");\n                        _b.label = 10;\n                    case 10:\n                        if (!_a) return [3 /*break*/, 13];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 11:\n                        _b.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 12:\n                        _b.sent();\n                        _b.label = 13;\n                    case 13:\n                        return [7 /*endfinally*/];\n                    case 14:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n}\nexports.responseInterceptor = responseInterceptor;\nfunction responseErrorInterceptor(axiosInstance) {\n    var _this = this;\n    return function (error) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"responseErrorInterceptor: called\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: already intercepted: \" + (error.response && error.response.headers[\"x-supertokens-xhr-intercepted\"]));\n                        if (error.response.headers[\"x-supertokens-xhr-intercepted\"]) {\n                            throw error;\n                        }\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.sessionExpiredStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 1];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: Status code is: \" + error.response.status);\n                        config = error.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                getUrlFromConfig(config),\n                                undefined,\n                                error,\n                                true\n                            )\n                        ];\n                    case 1:\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.invalidClaimStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 3];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(error.response)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        throw error;\n                }\n            });\n        });\n    };\n}\nexports.responseErrorInterceptor = responseErrorInterceptor;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    var _a;\n    _a = AuthHttpRequest;\n    /**\n     * @description sends the actual http request and returns a response if successful/\n     * If not successful due to session expiry reasons, it\n     * attempts to call the refresh token API and if that is successful, calls this API again.\n     * @throws Error\n     */\n    AuthHttpRequest.doRequest = function (httpCall, config, url, prevResponse, prevError, viaInterceptor) {\n        if (viaInterceptor === void 0) {\n            viaInterceptor = false;\n        }\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                returnObj,\n                preRequestLSS,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                localPrevError,\n                localPrevResponse,\n                response,\n                _b,\n                refreshResult,\n                _c,\n                err_1,\n                response,\n                refreshResult,\n                _d,\n                postRequestIdToken;\n            return __generator(_a, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!fetch_1.default.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: called\");\n                        doNotDoInterception = false;\n                        try {\n                            doNotDoInterception =\n                                typeof url === \"string\" &&\n                                !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                    url,\n                                    fetch_1.default.config.apiDomain,\n                                    fetch_1.default.config.sessionTokenBackendDomain\n                                ) &&\n                                viaInterceptor;\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) && viaInterceptor;\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        if (prevError !== undefined) {\n                            throw prevError;\n                        } else if (prevResponse !== undefined) {\n                            return [2 /*return*/, prevResponse];\n                        }\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _e.sent()];\n                    case 2:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(config)];\n                    case 3:\n                        config = _e.sent();\n                        _e.label = 4;\n                    case 4:\n                        _e.trys.push([4, , 40, 45]);\n                        returnObj = undefined;\n                        _e.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 39];\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 6:\n                        preRequestLSS = _e.sent();\n                        configWithAntiCsrf = config;\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 8];\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 7:\n                        antiCsrfToken = _e.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                headers:\n                                    configWithAntiCsrf === undefined\n                                        ? {\n                                              \"anti-csrf\": antiCsrfToken\n                                          }\n                                        : __assign(__assign({}, configWithAntiCsrf.headers), {\n                                              \"anti-csrf\": antiCsrfToken\n                                          })\n                            });\n                        }\n                        _e.label = 8;\n                    case 8:\n                        if (\n                            fetch_1.default.config.autoAddCredentials &&\n                            configWithAntiCsrf.withCredentials === undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf (May get overriden by user's rid)\");\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          rid: \"anti-csrf\"\n                                      }\n                                    : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                        });\n                        transferMethod = fetch_1.default.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                    case 9:\n                        _e.sent();\n                        _e.label = 10;\n                    case 10:\n                        _e.trys.push([10, 25, , 38]);\n                        localPrevError = prevError;\n                        localPrevResponse = prevResponse;\n                        prevError = undefined;\n                        prevResponse = undefined;\n                        if (localPrevError !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevError is not undefined\"\n                            );\n                            throw localPrevError;\n                        }\n                        if (localPrevResponse !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevResponse is not undefined\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        }\n                        if (!(localPrevResponse === undefined)) return [3 /*break*/, 12];\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 11:\n                        _b = _e.sent();\n                        return [3 /*break*/, 13];\n                    case 12:\n                        _b = localPrevResponse;\n                        _e.label = 13;\n                    case 13:\n                        response = _b;\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 14:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 21];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 15:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 20];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!refreshResult.error) return [3 /*break*/, 17];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 16:\n                        _c = _e.sent();\n                        return [3 /*break*/, 19];\n                    case 17:\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromAxiosResp)(response)];\n                    case 18:\n                        _c = _e.sent();\n                        _e.label = 19;\n                    case 19:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the response to the original response as an error if we did not attempt refreshing\n                        returnObj = _c;\n                        return [3 /*break*/, 39];\n                    case 20:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 24];\n                    case 21:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 23];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 22:\n                        _e.sent();\n                        _e.label = 23;\n                    case 23:\n                        return [2 /*return*/, response];\n                    case 24:\n                        return [3 /*break*/, 38];\n                    case 25:\n                        err_1 = _e.sent();\n                        response = err_1.response;\n                        if (!(response !== undefined)) return [3 /*break*/, 36];\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 26:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 32];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 27:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 31];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!(refreshResult.error !== undefined)) return [3 /*break*/, 29];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 28:\n                        _d = _e.sent();\n                        return [3 /*break*/, 30];\n                    case 29:\n                        _d = err_1;\n                        _e.label = 30;\n                    case 30:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the original error if we did not attempt refreshing\n                        returnObj = _d;\n                        return [3 /*break*/, 39];\n                    case 31:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 35];\n                    case 32:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 34];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 33:\n                        _e.sent();\n                        _e.label = 34;\n                    case 34:\n                        throw err_1;\n                    case 35:\n                        return [3 /*break*/, 37];\n                    case 36:\n                        throw err_1;\n                    case 37:\n                        return [3 /*break*/, 38];\n                    case 38:\n                        return [3 /*break*/, 5];\n                    case 39:\n                        // if it comes here, means we called break. which happens only if we have logged out.\n                        // which means it's a 401, so we throw\n                        throw returnObj;\n                    case 40:\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 41:\n                        postRequestIdToken = _e.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 44];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 42:\n                        _e.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 43:\n                        _e.sent();\n                        _e.label = 44;\n                    case 44:\n                        return [7 /*endfinally*/];\n                    case 45:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nfunction setAuthorizationHeaderIfRequired(requestConfig) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (requestConfig.headers === undefined) {\n                        // This is makes TS happy\n                        requestConfig.headers = {};\n                    }\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestConfig.headers[\"Authorization\"] !== undefined ||\n                            requestConfig.headers[\"authorization\"] !== undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            requestConfig.headers = __assign(__assign({}, requestConfig.headers), {\n                                Authorization: \"Bearer \".concat(accessToken)\n                            });\n                            requestConfig.__supertokensAddedAuthHeader = true;\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = response.headers[\"st-refresh-token\"];\n                    if (!(refreshToken !== undefined)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers[\"st-access-token\"];\n                    if (!(accessToken !== undefined)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers[\"front-token\"];\n                    if (!(frontToken !== undefined)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers[\"anti-csrf\"];\n                    if (!(antiCsrfToken !== undefined)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeAuthHeaderIfMatchesLocalToken(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken, authHeader, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    authHeader = config.headers.Authorization || config.headers.authorization;\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (authHeader === \"Bearer \".concat(accessToken) || \"__supertokensAddedAuthHeader\" in config) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"removeAuthHeaderIfMatchesLocalToken: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            res = __assign(__assign({}, config), { headers: __assign({}, config.headers) });\n                            delete res.headers.authorization;\n                            delete res.headers.Authorization;\n                            return [2 /*return*/, res];\n                        }\n                    }\n                    return [2 /*return*/, config];\n            }\n        });\n    });\n}\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addInterceptorsToXMLHttpRequest = void 0;\nvar fetch_1 = require(\"./fetch\");\nvar logger_1 = require(\"./logger\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar processState_1 = require(\"./processState\");\nvar XHR_EVENTS = [\"readystatechange\", \"abort\", \"error\", \"load\", \"loadend\", \"loadstart\", \"progress\", \"timeout\"];\nfunction addInterceptorsToXMLHttpRequest() {\n    var firstEventLoopDone = new Promise(function (res) {\n        return setTimeout(res, 0);\n    });\n    var oldXMLHttpRequest = XMLHttpRequest;\n    (0, logger_1.logDebugMessage)(\"addInterceptorsToXMLHttpRequest called\");\n    // create XMLHttpRequest proxy object\n    // define constructor for my proxy object\n    XMLHttpRequest = function () {\n        var actual = new oldXMLHttpRequest();\n        var delayedQueue = firstEventLoopDone;\n        function delayIfNecessary(cb) {\n            delayedQueue = delayedQueue.finally(function () {\n                var _a;\n                return (_a = cb()) === null || _a === void 0 ? void 0 : _a.catch(console.error);\n            });\n        }\n        var self = this;\n        var listOfFunctionCallsInProxy = [];\n        var requestHeaders = [];\n        var customGetterValues = {};\n        var customResponseHeaders;\n        var eventHandlers = new Map();\n        // We define these during open\n        // let method: string = \"\";\n        var url = \"\";\n        var doNotDoInterception = false;\n        var preRequestLSS = undefined;\n        var body;\n        // we do not provide onerror cause that is fired only on\n        // network level failures and nothing else. If a status code is > 400,\n        // then onload and onreadystatechange are called.\n        // Setting up props (event handlers) that we use in event handlers\n        // These require processing the response (and possibly retrying) before they are forwarded to the user\n        self.onload = null;\n        self.onreadystatechange = null;\n        self.onloadend = null;\n        // TODO: add support for other event listener options\n        // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parameters\n        self.addEventListener = function (type, listener, _options) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.add(listener);\n        };\n        self.removeEventListener = function (type, listener) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.delete(listener);\n        };\n        function redispatchEvent(name, ev) {\n            var handlers = eventHandlers.get(name);\n            (0, logger_1.logDebugMessage)(\n                \"XHRInterceptor dispatching \".concat(ev.type, \" to \").concat(handlers ? handlers.size : 0, \" listeners\")\n            );\n            if (handlers) {\n                Array.from(handlers).forEach(function (handler) {\n                    return handler.apply(self, [ev]);\n                });\n            }\n        }\n        function handleRetryPostRefreshing() {\n            return __awaiter(this, void 0, void 0, function () {\n                var refreshResult, retryXhr;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (preRequestLSS === undefined) {\n                                throw new Error(\"Should never come here..\");\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: preRequestLSS \" + preRequestLSS.status);\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 1:\n                            refreshResult = _a.sent();\n                            if (refreshResult.result !== \"RETRY\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleRetryPostRefreshing: Not retrying original request \" +\n                                        !!refreshResult.error\n                                );\n                                if (refreshResult.error !== undefined) {\n                                    // this will cause the responseText of the self to be updated\n                                    // to the error message and make the status code the same as\n                                    // what the error's status code is.\n                                    throw refreshResult.error;\n                                }\n                                // it can come here if refreshResult.result is SESSION_EXPIRED.\n                                // in that case, the status of self is already 401. So we let it\n                                // pass through.\n                                return [2 /*return*/, true];\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: Retrying original request\");\n                            retryXhr = new oldXMLHttpRequest();\n                            setUpXHR(self, retryXhr, true);\n                            // this also calls the send function with the appropriate body\n                            listOfFunctionCallsInProxy.forEach(function (i) {\n                                i(retryXhr);\n                            });\n                            sendXHR(retryXhr, body);\n                            return [2 /*return*/, false];\n                    }\n                });\n            });\n        }\n        function handleResponse(xhr) {\n            return __awaiter(this, void 0, void 0, function () {\n                var status_1, headers, err_1, resp;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (doNotDoInterception) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleResponse: Returning without interception\"\n                                );\n                                return [2 /*return*/, true];\n                            }\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 14, , 18]);\n                            _a.label = 2;\n                        case 2:\n                            _a.trys.push([2, , 8, 13]);\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: Interception started\");\n                            processState_1.ProcessState.getInstance().addState(\n                                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                            );\n                            status_1 = xhr.status;\n                            headers = getResponseHeadersFromXHR(xhr);\n                            return [4 /*yield*/, saveTokensFromHeaders(headers)];\n                        case 3:\n                            _a.sent();\n                            (0,\n                            fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", status_1, headers.get(\"front-token\"));\n                            if (!(status_1 === fetch_1.default.config.sessionExpiredStatusCode))\n                                return [3 /*break*/, 5];\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + status_1);\n                            return [4 /*yield*/, handleRetryPostRefreshing()];\n                        case 4:\n                            return [2 /*return*/, _a.sent()];\n                        case 5:\n                            if (!(status_1 === fetch_1.default.config.invalidClaimStatusCode)) return [3 /*break*/, 7];\n                            return [\n                                4 /*yield*/,\n                                (0, fetch_1.onInvalidClaimResponse)({\n                                    data: JSON.parse(xhr.responseText)\n                                })\n                            ];\n                        case 6:\n                            _a.sent();\n                            _a.label = 7;\n                        case 7:\n                            return [2 /*return*/, true];\n                        case 8:\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: doFinallyCheck running\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 9:\n                            if (!!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 12];\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                            return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                        case 10:\n                            _a.sent();\n                            return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                        case 11:\n                            _a.sent();\n                            _a.label = 12;\n                        case 12:\n                            return [7 /*endfinally*/];\n                        case 13:\n                            return [3 /*break*/, 18];\n                        case 14:\n                            err_1 = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: caught error\");\n                            if (!(err_1.status !== undefined)) return [3 /*break*/, 16];\n                            return [4 /*yield*/, getXMLHttpStatusAndResponseTextFromFetchResponse(err_1)];\n                        case 15:\n                            resp = _a.sent();\n                            customGetterValues[\"status\"] = resp.status;\n                            customGetterValues[\"statusText\"] = resp.statusText;\n                            customGetterValues[\"responseType\"] = resp.responseType;\n                            customResponseHeaders = resp.headers;\n                            if (resp.responseType === \"json\") {\n                                try {\n                                    customGetterValues[\"response\"] = JSON.parse(resp.responseText);\n                                } catch (_b) {\n                                    customGetterValues[\"response\"] = resp.responseText;\n                                }\n                            } else {\n                                customGetterValues[\"response\"] = resp.responseText;\n                            }\n                            customGetterValues[\"responseText\"] = resp.responseText;\n                            return [3 /*break*/, 17];\n                        case 16:\n                            // Here we only need to handle fetch related errors, from the refresh endpoint called by the retry\n                            // So we should only get network level errors here\n                            redispatchEvent(\"error\", new Event(\"error\"));\n                            _a.label = 17;\n                        case 17:\n                            return [2 /*return*/, true];\n                        case 18:\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        self.open = function (_, u) {\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.open called\");\n            var args = arguments;\n            // method = m;\n            url = u;\n            try {\n                doNotDoInterception =\n                    (typeof url === \"string\" &&\n                        !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                            url,\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        )) ||\n                    (typeof url !== \"string\" &&\n                        !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                            url.toString(),\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        ));\n            } catch (err) {\n                if (err.message === \"Please provide a valid domain name\") {\n                    (0, logger_1.logDebugMessage)(\n                        \"XHRInterceptor.open: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                    );\n                    // .origin gives the port as well..\n                    doNotDoInterception = !fetch_1.default.recipeImpl.shouldDoInterceptionBasedOnUrl(\n                        windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                        fetch_1.default.config.apiDomain,\n                        fetch_1.default.config.sessionTokenBackendDomain\n                    );\n                } else {\n                    throw err;\n                }\n            }\n            delayIfNecessary(function () {\n                listOfFunctionCallsInProxy.push(function (xhr) {\n                    xhr.open.apply(xhr, args);\n                });\n                // here we use the apply syntax cause there are other optional args that\n                // can be passed by the user.\n                actual.open.apply(actual, args);\n            });\n        };\n        self.send = function (inputBody) {\n            body = inputBody;\n            sendXHR(actual, body);\n        };\n        self.setRequestHeader = function (name, value) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: Called with \".concat(name));\n            if (doNotDoInterception) {\n                delayIfNecessary(function () {\n                    return actual.setRequestHeader(name, value);\n                });\n                return;\n            }\n            // We need to do this, because if there is another interceptor wrapping this (e.g.: the axios interceptor)\n            // then the anti-csrf token they add would be concatenated to the anti-csrf token added by this interceptor\n            if (name === \"anti-csrf\") {\n                return;\n            }\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var accessToken, refreshToken;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                if (!(name.toLowerCase() === \"authorization\")) return [3 /*break*/, 3];\n                                (0,\n                                logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: checking if user provided auth header matches local token\");\n                                return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                            case 1:\n                                accessToken = _a.sent();\n                                return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                            case 2:\n                                refreshToken = _a.sent();\n                                if (\n                                    accessToken !== undefined &&\n                                    refreshToken !== undefined &&\n                                    value === \"Bearer \".concat(accessToken)\n                                ) {\n                                    // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                                    // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                                    // This causes an infinite refresh loop.\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.setRequestHeader: skipping Authorization from user provided headers because it contains our access token\"\n                                    );\n                                    return [2 /*return*/];\n                                }\n                                _a.label = 3;\n                            case 3:\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr.setRequestHeader(name, value);\n                                });\n                                // The original version \"combines\" headers according to MDN.\n                                requestHeaders.push({ name: name, value: value });\n                                actual.setRequestHeader(name, value);\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            });\n        };\n        var copiedProps = undefined;\n        setUpXHR(self, actual, false);\n        function setUpXHR(self, xhr, isRetry) {\n            var responseProcessed;\n            var delayedEvents = [\"load\", \"loadend\", \"readystatechange\"];\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setUpXHR called\");\n            var _loop_1 = function (name_1) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor added listener for event \".concat(name_1));\n                xhr.addEventListener(name_1, function (ev) {\n                    (0, logger_1.logDebugMessage)(\"XHRInterceptor got event \".concat(name_1));\n                    if (!delayedEvents.includes(name_1)) {\n                        redispatchEvent(name_1, ev);\n                    }\n                });\n            };\n            for (var _i = 0, XHR_EVENTS_1 = XHR_EVENTS; _i < XHR_EVENTS_1.length; _i++) {\n                var name_1 = XHR_EVENTS_1[_i];\n                _loop_1(name_1);\n            }\n            xhr.onload = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onload) {\n                        self.onload(ev);\n                    }\n                    redispatchEvent(\"load\", ev);\n                });\n            };\n            xhr.onreadystatechange = function (ev) {\n                // In local files, status is 0 upon success in Mozilla Firefox\n                if (xhr.readyState === oldXMLHttpRequest.DONE) {\n                    if (responseProcessed === undefined) {\n                        responseProcessed = handleResponse(xhr);\n                    }\n                    responseProcessed.then(function (callself) {\n                        if (!callself) {\n                            return;\n                        }\n                        if (self.onreadystatechange) self.onreadystatechange(ev);\n                        redispatchEvent(\"readystatechange\", ev);\n                    });\n                } else {\n                    if (self.onreadystatechange) {\n                        self.onreadystatechange(ev);\n                    }\n                    redispatchEvent(\"readystatechange\", ev);\n                }\n            };\n            xhr.onloadend = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onloadend) {\n                        self.onloadend(ev);\n                    }\n                    redispatchEvent(\"loadend\", ev);\n                });\n            };\n            self.getAllResponseHeaders = function () {\n                var headersString;\n                if (customResponseHeaders) {\n                    headersString = \"\";\n                    customResponseHeaders.forEach(function (v, k) {\n                        return (headersString += \"\".concat(k, \": \").concat(v, \"\\r\\n\"));\n                    });\n                } else {\n                    headersString = xhr.getAllResponseHeaders();\n                }\n                // We use this \"fake-header\" to signal other interceptors (axios) that this is done\n                // in case both is applied\n                return headersString + \"x-supertokens-xhr-intercepted: true\\r\\n\";\n            };\n            self.getResponseHeader = function (name) {\n                if (name === \"x-supertokens-xhr-intercepted\") {\n                    return \"true\";\n                }\n                if (customResponseHeaders) {\n                    return customResponseHeaders.get(name);\n                }\n                return xhr.getResponseHeader(name);\n            };\n            if (copiedProps === undefined) {\n                copiedProps = [];\n                // iterate all properties in actual to proxy them according to their type\n                // For functions, we call actual and return the result\n                // For non-functions, we make getters/setters\n                // If the property already exists on self, then don't proxy it\n                for (var prop in xhr) {\n                    // skip properties we already have - this will skip both the above defined properties\n                    // that we don't want to proxy and skip properties on the prototype belonging to Object\n                    if (!(prop in self)) {\n                        // We save these props into an array - in case we need to set up a retry XHR\n                        copiedProps.push(prop);\n                    }\n                }\n            }\n            var _loop_2 = function (prop) {\n                if (typeof xhr[prop] === \"function\") {\n                    // define our own property that calls the same method on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        value: function () {\n                            var args = arguments;\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop].apply(xhr, args);\n                                });\n                            }\n                            return xhr[prop].apply(xhr, args);\n                        }\n                    });\n                } else {\n                    // define our own property that just gets or sets the same prop on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        get: function () {\n                            if (customGetterValues[prop] !== undefined) {\n                                return customGetterValues[prop];\n                            }\n                            return xhr[prop];\n                        },\n                        set: function (val) {\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop] = val;\n                                });\n                            }\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.set[\".concat(prop, \"] = \").concat(val));\n                            xhr[prop] = val;\n                        }\n                    });\n                }\n            };\n            for (var _a = 0, copiedProps_1 = copiedProps; _a < copiedProps_1.length; _a++) {\n                var prop = copiedProps_1[_a];\n                _loop_2(prop);\n            }\n        }\n        function sendXHR(xhr, body) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: called\");\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Value of doNotDoInterception: \" + doNotDoInterception);\n            if (doNotDoInterception) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Returning without interception\");\n                delayIfNecessary(function () {\n                    return xhr.send(body);\n                });\n                return;\n            }\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Interception started\");\n            processState_1.ProcessState.getInstance().addState(\n                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n            );\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var antiCsrfToken, transferMethod;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                            case 1:\n                                preRequestLSS = _a.sent();\n                                if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)\n                                ];\n                            case 2:\n                                antiCsrfToken = _a.sent();\n                                if (antiCsrfToken !== undefined) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding anti-csrf token to request\"\n                                    );\n                                    xhr.setRequestHeader(\"anti-csrf\", antiCsrfToken);\n                                }\n                                _a.label = 3;\n                            case 3:\n                                if (fetch_1.default.config.autoAddCredentials) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding credentials include\");\n                                    self.withCredentials = true;\n                                }\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"rid\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding rid header: anti-csrf\");\n                                    xhr.setRequestHeader(\"rid\", \"anti-csrf\");\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: rid header was already there in request\"\n                                    );\n                                }\n                                transferMethod = fetch_1.default.config.tokenTransferMethod;\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"st-auth-mode\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding st-auth-mode header: \" + transferMethod\n                                    );\n                                    xhr.setRequestHeader(\"st-auth-mode\", transferMethod);\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: st-auth-mode header was already there in request\"\n                                    );\n                                }\n                                return [4 /*yield*/, setAuthorizationHeaderIfRequired(xhr, requestHeaders)];\n                            case 4:\n                                _a.sent();\n                                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Making user's http call\");\n                                return [2 /*return*/, xhr.send(body)];\n                        }\n                    });\n                });\n            });\n        }\n    };\n    // This can be used by other interceptors (axios) to detect if this interceptor has been added or not\n    XMLHttpRequest.__interceptedBySuperTokens = true;\n    XMLHttpRequest.__original = oldXMLHttpRequest;\n}\nexports.addInterceptorsToXMLHttpRequest = addInterceptorsToXMLHttpRequest;\nfunction getXMLHttpStatusAndResponseTextFromFetchResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType, data, responseType, _a, _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    contentType = response.headers.get(\"content-type\");\n                    data = \"\";\n                    responseType = \"text\";\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _d.label = 1;\n                case 1:\n                    _d.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _d.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _d.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    responseType = \"json\";\n                    _c = (_b = JSON).stringify;\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _c.apply(_b, [_d.sent()]);\n                    return [3 /*break*/, 9];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _d.sent();\n                    _d.label = 9;\n                case 9:\n                    return [\n                        2 /*return*/,\n                        {\n                            status: response.status,\n                            responseText: data,\n                            statusText: response.statusText,\n                            responseType: responseType,\n                            headers: response.headers\n                        }\n                    ];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(xhr, requestHeaders) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _a.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _a.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestHeaders.some(function (_a) {\n                                var name = _a.name;\n                                return name.toLowerCase() === \"authorization\";\n                            })\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            if (accessToken !== undefined) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"setAuthorizationHeaderIfRequired: added authorization header\"\n                                );\n                                xhr.setRequestHeader(\"Authorization\", \"Bearer \".concat(accessToken));\n                            }\n                            // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(headers) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    accessToken = headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    frontToken = headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6:\n                    antiCsrfToken = headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _a.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getResponseHeadersFromXHR(xhr) {\n    return new Headers(\n        xhr\n            .getAllResponseHeaders()\n            .split(\"\\r\\n\")\n            .map(function (line) {\n                var sep = line.indexOf(\": \");\n                if (sep === -1) {\n                    return [\"\", \"\"];\n                }\n                return [line.slice(0, sep), line.slice(sep + 2)];\n            })\n            .filter(function (e) {\n                return e[0].length !== 0;\n            })\n    );\n}\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fetch_1 = require(\"./fetch\");\nvar axios_1 = require(\"./axios\");\nvar version_1 = require(\"./version\");\nvar logger_1 = require(\"./logger\");\nvar error_1 = require(\"./error\");\nvar xmlhttprequest_1 = require(\"./xmlhttprequest\");\nvar utils_1 = require(\"./utils\");\nfunction RecipeImplementation(recipeImplInput) {\n    return {\n        addXMLHttpRequestInterceptor: function (_) {\n            (0, logger_1.logDebugMessage)(\"addXMLHttpRequestInterceptorAndReturnModified: called\");\n            (0, xmlhttprequest_1.addInterceptorsToXMLHttpRequest)();\n        },\n        addFetchInterceptorsAndReturnModifiedFetch: function (input) {\n            (0, logger_1.logDebugMessage)(\"addFetchInterceptorsAndReturnModifiedFetch: called\");\n            return function (url, config) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.default.doRequest(\n                                        function (config) {\n                                            return input.originalFetch(\n                                                typeof url === \"object\" && \"clone\" in url ? url.clone() : url,\n                                                __assign({}, config)\n                                            );\n                                        },\n                                        config,\n                                        url\n                                    )\n                                ];\n                            case 1:\n                                return [2 /*return*/, _a.sent()];\n                        }\n                    });\n                });\n            };\n        },\n        addAxiosInterceptors: function (input) {\n            (0, logger_1.logDebugMessage)(\"addAxiosInterceptors: called\");\n            if (XMLHttpRequest.__interceptedBySuperTokens) {\n                console.warn(\n                    \"Not adding axios interceptor since XMLHttpRequest is already added. This is just a warning.\"\n                );\n                console.warn(\"Our axios and XMLHttpRequest interceptors cannot be used at the same time.\");\n                console.warn(\n                    \"Since XMLHttpRequest is added automatically and supports axios by default, you can just remove addAxiosInterceptors from your code.\"\n                );\n                console.warn(\n                    \"If you want to continue using our axios interceptor, you can override addXMLHttpRequestInterceptor with an empty function.\"\n                );\n                (0, logger_1.logDebugMessage)(\n                    \"addAxiosInterceptors: not adding, because XHR interceptors are already in place\"\n                );\n                return;\n            }\n            // we first check if this axiosInstance already has our interceptors.\n            var requestInterceptors = input.axiosInstance.interceptors.request;\n            for (var i = 0; i < requestInterceptors.handlers.length; i++) {\n                if (requestInterceptors.handlers[i].fulfilled === axios_1.interceptorFunctionRequestFulfilled) {\n                    (0, logger_1.logDebugMessage)(\n                        \"addAxiosInterceptors: not adding because already added on this instance\"\n                    );\n                    return;\n                }\n            }\n            // Add a request interceptor\n            input.axiosInstance.interceptors.request.use(axios_1.interceptorFunctionRequestFulfilled, function (error) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        throw error;\n                    });\n                });\n            });\n            // Add a response interceptor\n            input.axiosInstance.interceptors.response.use(\n                (0, axios_1.responseInterceptor)(input.axiosInstance),\n                (0, axios_1.responseErrorInterceptor)(input.axiosInstance)\n            );\n        },\n        getUserId: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getUserId: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            (0, logger_1.logDebugMessage)(\"getUserId: returning: \" + tokenInfo.uid);\n                            return [2 /*return*/, tokenInfo.uid];\n                    }\n                });\n            });\n        },\n        getAccessTokenPayloadSecurely: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, retry;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 5];\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: access token expired. Refreshing session\");\n                            return [4 /*yield*/, fetch_1.default.attemptRefreshingSession()];\n                        case 2:\n                            retry = _a.sent();\n                            if (!retry) return [3 /*break*/, 4];\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 3:\n                            return [2 /*return*/, _a.sent()];\n                        case 4:\n                            throw new Error(\"Could not refresh session\");\n                        case 5:\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: returning: \" + JSON.stringify(tokenInfo.up));\n                            return [2 /*return*/, tokenInfo.up];\n                    }\n                });\n            });\n        },\n        doesSessionExist: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, preRequestLSS, refresh;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            // The above includes getLocalSessionState(true), which would call refresh if the FE cookies were cleared for some reason\n                            if (tokenInfo === undefined) {\n                                (0, logger_1.logDebugMessage)(\"doesSessionExist: access token does not exist locally\");\n                                return [2 /*return*/, false];\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 4];\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: access token expired. Refreshing session\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 2:\n                            preRequestLSS = _a.sent();\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 3:\n                            refresh = _a.sent();\n                            return [2 /*return*/, refresh.result === \"RETRY\"];\n                        case 4:\n                            return [2 /*return*/, true];\n                    }\n                });\n            });\n        },\n        signOut: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var preAPIResult, resp, responseJson, message;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"signOut: called\");\n                            return [4 /*yield*/, this.doesSessionExist(input)];\n                        case 1:\n                            if (!_a.sent()) {\n                                (0, logger_1.logDebugMessage)(\"signOut: exiting early because session does not exist\");\n                                (0, logger_1.logDebugMessage)(\"signOut: firing SIGN_OUT event\");\n                                recipeImplInput.onHandleEvent({\n                                    action: \"SIGN_OUT\",\n                                    userContext: input.userContext\n                                });\n                                return [2 /*return*/];\n                            }\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling refresh pre API hook\");\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.preAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: {\n                                        method: \"post\",\n                                        headers: {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            rid: fetch_1.default.rid\n                                        }\n                                    },\n                                    url: fetch_1.default.signOutUrl,\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 2:\n                            preAPIResult = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling API\");\n                            return [4 /*yield*/, fetch(preAPIResult.url, preAPIResult.requestInit)];\n                        case 3:\n                            resp = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: API ended\");\n                            (0, logger_1.logDebugMessage)(\"signOut: API responded with status code: \" + resp.status);\n                            if (resp.status === recipeImplInput.sessionExpiredStatusCode) {\n                                // refresh must have already sent session expiry event\n                                return [2 /*return*/];\n                            }\n                            if (resp.status >= 300) {\n                                throw resp;\n                            }\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.postAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: preAPIResult.requestInit,\n                                    url: preAPIResult.url,\n                                    fetchResponse: resp.clone(),\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 4:\n                            _a.sent();\n                            return [4 /*yield*/, resp.clone().json()];\n                        case 5:\n                            responseJson = _a.sent();\n                            if (responseJson.status === \"GENERAL_ERROR\") {\n                                (0, logger_1.logDebugMessage)(\"doRequest: Throwing general error\");\n                                message =\n                                    responseJson.message === undefined\n                                        ? \"No Error Message Provided\"\n                                        : responseJson.message;\n                                throw new error_1.STGeneralError(message);\n                            }\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        getInvalidClaimsFromResponse: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var body;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(\"body\" in input.response)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, input.response.clone().json()];\n                        case 1:\n                            body = _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            if (typeof input.response.data === \"string\") {\n                                body = JSON.parse(input.response.data);\n                            } else {\n                                body = input.response.data;\n                            }\n                            _a.label = 3;\n                        case 3:\n                            return [2 /*return*/, body.claimValidationErrors];\n                    }\n                });\n            });\n        },\n        getGlobalClaimValidators: function (input) {\n            return input.claimValidatorsAddedByOtherRecipes;\n        },\n        validateClaims: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var accessTokenPayload, _i, _a, validator, err_1, errors, _b, _c, validator, validationRes;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 1:\n                            accessTokenPayload = _d.sent();\n                            (_i = 0), (_a = input.claimValidators);\n                            _d.label = 2;\n                        case 2:\n                            if (!(_i < _a.length)) return [3 /*break*/, 10];\n                            validator = _a[_i];\n                            return [4 /*yield*/, validator.shouldRefresh(accessTokenPayload, input.userContext)];\n                        case 3:\n                            if (!_d.sent()) return [3 /*break*/, 9];\n                            _d.label = 4;\n                        case 4:\n                            _d.trys.push([4, 6, , 7]);\n                            return [4 /*yield*/, validator.refresh(input.userContext)];\n                        case 5:\n                            _d.sent();\n                            return [3 /*break*/, 7];\n                        case 6:\n                            err_1 = _d.sent();\n                            console.error(\n                                \"Encountered an error while refreshing validator \".concat(validator.id),\n                                err_1\n                            );\n                            return [3 /*break*/, 7];\n                        case 7:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 8:\n                            accessTokenPayload = _d.sent();\n                            _d.label = 9;\n                        case 9:\n                            _i++;\n                            return [3 /*break*/, 2];\n                        case 10:\n                            errors = [];\n                            (_b = 0), (_c = input.claimValidators);\n                            _d.label = 11;\n                        case 11:\n                            if (!(_b < _c.length)) return [3 /*break*/, 14];\n                            validator = _c[_b];\n                            return [4 /*yield*/, validator.validate(accessTokenPayload, input.userContext)];\n                        case 12:\n                            validationRes = _d.sent();\n                            if (!validationRes.isValid) {\n                                errors.push({\n                                    validatorId: validator.id,\n                                    reason: validationRes.reason\n                                });\n                            }\n                            _d.label = 13;\n                        case 13:\n                            _b++;\n                            return [3 /*break*/, 11];\n                        case 14:\n                            return [2 /*return*/, errors];\n                    }\n                });\n            });\n        },\n        shouldDoInterceptionBasedOnUrl: function (toCheckUrl, apiDomain, sessionTokenBackendDomain) {\n            (0, logger_1.logDebugMessage)(\n                \"shouldDoInterceptionBasedOnUrl: toCheckUrl: \" +\n                    toCheckUrl +\n                    \" apiDomain: \" +\n                    apiDomain +\n                    \" sessionTokenBackendDomain: \" +\n                    sessionTokenBackendDomain\n            );\n            function isNumeric(str) {\n                if (typeof str != \"string\") return false; // we only process strings!\n                return (\n                    !isNaN(str) && !isNaN(parseFloat(str)) // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n                ); // ...and ensure strings of whitespace fail\n            }\n            // The safest/best way to add this is the hash as the browser strips it before sending\n            // but we don't have a reason to limit checking to that part.\n            if (toCheckUrl.includes(\"superTokensDoNotDoInterception\")) {\n                return false;\n            }\n            toCheckUrl = (0, utils_1.normaliseURLDomainOrThrowError)(toCheckUrl);\n            var urlObj = new URL(toCheckUrl);\n            var domain = urlObj.hostname;\n            if (sessionTokenBackendDomain === undefined) {\n                domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n                apiDomain = (0, utils_1.normaliseURLDomainOrThrowError)(apiDomain);\n                var apiUrlObj = new URL(apiDomain);\n                return (\n                    domain === (apiUrlObj.port === \"\" ? apiUrlObj.hostname : apiUrlObj.hostname + \":\" + apiUrlObj.port)\n                );\n            } else {\n                var normalisedsessionDomain = (0, utils_1.normaliseSessionScopeOrThrowError)(sessionTokenBackendDomain);\n                if (sessionTokenBackendDomain.split(\":\").length > 1) {\n                    // means port may provided\n                    var portStr = sessionTokenBackendDomain.split(\":\")[sessionTokenBackendDomain.split(\":\").length - 1];\n                    if (isNumeric(portStr)) {\n                        normalisedsessionDomain += \":\" + portStr;\n                        domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n                    }\n                }\n                if (sessionTokenBackendDomain.startsWith(\".\")) {\n                    return (\".\" + domain).endsWith(normalisedsessionDomain);\n                } else {\n                    return domain === normalisedsessionDomain;\n                }\n            }\n        }\n    };\n}\nexports.default = RecipeImplementation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrimitiveClaim = void 0;\nvar PrimitiveClaim = /** @class */ (function () {\n    function PrimitiveClaim(config) {\n        var _this = this;\n        this.validators = {\n            hasValue: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        var claimVal = _this.getValueFromPayload(payload, ctx);\n                        if (claimVal === undefined) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"value does not exist\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        var ageInSeconds = (Date.now() - _this.getLastFetchedTime(payload, ctx)) / 1000;\n                        if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                            return {\n                                isValid: false,\n                                reason: {\n                                    message: \"expired\",\n                                    ageInSeconds: ageInSeconds,\n                                    maxAgeInSeconds: maxAgeInSeconds\n                                }\n                            };\n                        }\n                        if (claimVal !== val) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"wrong value\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        return { isValid: true };\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveClaim;\n})();\nexports.PrimitiveClaim = PrimitiveClaim;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrimitiveArrayClaim = void 0;\nvar PrimitiveArrayClaim = /** @class */ (function () {\n    function PrimitiveArrayClaim(config) {\n        var _this = this;\n        this.validators = {\n            includes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (!claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            excludes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAny: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.some(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToIncludeAtLeastOneOf: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            excludesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return !claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToNotInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveArrayClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveArrayClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveArrayClaim;\n})();\nexports.PrimitiveArrayClaim = PrimitiveArrayClaim;\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanClaim = void 0;\nvar primitiveClaim_1 = require(\"./primitiveClaim\");\nvar BooleanClaim = /** @class */ (function (_super) {\n    __extends(BooleanClaim, _super);\n    function BooleanClaim(config) {\n        var _this = _super.call(this, config) || this;\n        _this.validators = __assign(__assign({}, _this.validators), {\n            isTrue: function (maxAge) {\n                return _this.validators.hasValue(true, maxAge);\n            },\n            isFalse: function (maxAge) {\n                return _this.validators.hasValue(false, maxAge);\n            }\n        });\n        return _this;\n    }\n    return BooleanClaim;\n})(primitiveClaim_1.PrimitiveClaim);\nexports.BooleanClaim = BooleanClaim;\n", "\"use strict\";\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanClaim =\n    exports.PrimitiveArrayClaim =\n    exports.PrimitiveClaim =\n    exports.getInvalidClaimsFromResponse =\n    exports.getClaimValue =\n    exports.validateClaims =\n    exports.signOut =\n    exports.addAxiosInterceptors =\n    exports.doesSessionExist =\n    exports.attemptRefreshingSession =\n    exports.getAccessToken =\n    exports.getAccessTokenPayloadSecurely =\n    exports.getUserId =\n    exports.init =\n        void 0;\nvar fetch_1 = require(\"./fetch\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar utils_1 = require(\"./utils\");\nvar cookieHandler_1 = require(\"./utils/cookieHandler\");\nvar windowHandler_1 = require(\"./utils/windowHandler\");\nvar lockFactory_1 = require(\"./utils/lockFactory\");\nvar sessionClaimValidatorStore_1 = require(\"./utils/sessionClaimValidatorStore\");\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (options) {\n        cookieHandler_1.default.init(options.cookieHandler);\n        windowHandler_1.default.init(options.windowHandler);\n        lockFactory_1.default.init(\n            options.lockFactory,\n            windowHandler_1.default.getReferenceOrThrow().windowHandler.localStorage\n        );\n        var config = (0, utils_1.validateAndNormaliseInputOrThrowError)(options);\n        var recipeImpl = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                onHandleEvent: config.onHandleEvent,\n                preAPIHook: config.preAPIHook,\n                postAPIHook: config.postAPIHook,\n                sessionExpiredStatusCode: config.sessionExpiredStatusCode\n            })\n        )\n            .override(config.override.functions)\n            .build();\n        fetch_1.default.init(config, recipeImpl);\n        AuthHttpRequest.axiosInterceptorQueue.forEach(function (f) {\n            f();\n        });\n        AuthHttpRequest.axiosInterceptorQueue = [];\n    };\n    AuthHttpRequest.getUserId = function (input) {\n        return fetch_1.default.recipeImpl.getUserId({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getAccessTokenPayloadSecurely = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getAccessTokenPayloadSecurely({\n                        userContext: (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        )\n                    })\n                ];\n            });\n        });\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.axiosInterceptorQueue = [];\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                return [2 /*return*/, fetch_1.default.attemptRefreshingSession()];\n            });\n        });\n    };\n    AuthHttpRequest.doesSessionExist = function (input) {\n        return fetch_1.default.recipeImpl.doesSessionExist({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    /**\n     * @deprecated\n     */\n    AuthHttpRequest.addAxiosInterceptors = function (axiosInstance, userContext) {\n        if (!fetch_1.default.initCalled) {\n            // the recipe implementation has not been initialised yet, so add\n            // this to the queue and wait for it to be initialised, and then on\n            // init call, we add all the interceptors.\n            AuthHttpRequest.axiosInterceptorQueue.push(function () {\n                fetch_1.default.recipeImpl.addAxiosInterceptors({\n                    axiosInstance: axiosInstance,\n                    userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n                });\n            });\n        } else {\n            fetch_1.default.recipeImpl.addAxiosInterceptors({\n                axiosInstance: axiosInstance,\n                userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n            });\n        }\n    };\n    AuthHttpRequest.signOut = function (input) {\n        return fetch_1.default.recipeImpl.signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getInvalidClaimsFromResponse = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getInvalidClaimsFromResponse({\n                        response: input.response,\n                        userContext: (0, utils_1.getNormalisedUserContext)(input.userContext)\n                    })\n                ];\n            });\n        });\n    };\n    AuthHttpRequest.getClaimValue = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userContext, accessTokenPayload;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        userContext = (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        );\n                        return [\n                            4 /*yield*/,\n                            AuthHttpRequest.getAccessTokenPayloadSecurely({ userContext: userContext })\n                        ];\n                    case 1:\n                        accessTokenPayload = _b.sent();\n                        return [2 /*return*/, input.claim.getValueFromPayload(accessTokenPayload, userContext)];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.validateClaims = function (overrideGlobalClaimValidators, userContext) {\n        var normalisedUserContext = (0, utils_1.getNormalisedUserContext)(userContext);\n        var claimValidatorsAddedByOtherRecipes =\n            sessionClaimValidatorStore_1.SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes();\n        var globalClaimValidators = fetch_1.default.recipeImpl.getGlobalClaimValidators({\n            claimValidatorsAddedByOtherRecipes: claimValidatorsAddedByOtherRecipes,\n            userContext: normalisedUserContext\n        });\n        var claimValidators =\n            overrideGlobalClaimValidators !== undefined\n                ? overrideGlobalClaimValidators(globalClaimValidators, normalisedUserContext)\n                : globalClaimValidators;\n        if (claimValidators.length === 0) {\n            return [];\n        }\n        return fetch_1.default.recipeImpl.validateClaims({\n            claimValidators: claimValidators,\n            userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n        });\n    };\n    AuthHttpRequest.getAccessToken = function (input) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        return [\n                            4 /*yield*/,\n                            fetch_1.default.recipeImpl.doesSessionExist({\n                                userContext: (0, utils_1.getNormalisedUserContext)(\n                                    input === undefined ? undefined : input.userContext\n                                )\n                            })\n                        ];\n                    case 1:\n                        // This takes care of refreshing the access token if necessary.\n                        if (_b.sent()) {\n                            return [2 /*return*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                        }\n                        return [2 /*return*/, undefined];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports.default = AuthHttpRequest;\nexports.init = AuthHttpRequest.init;\nexports.getUserId = AuthHttpRequest.getUserId;\nexports.getAccessTokenPayloadSecurely = AuthHttpRequest.getAccessTokenPayloadSecurely;\nexports.getAccessToken = AuthHttpRequest.getAccessToken;\nexports.attemptRefreshingSession = AuthHttpRequest.attemptRefreshingSession;\nexports.doesSessionExist = AuthHttpRequest.doesSessionExist;\n/**\n * @deprecated\n */\nexports.addAxiosInterceptors = AuthHttpRequest.addAxiosInterceptors;\nexports.signOut = AuthHttpRequest.signOut;\nexports.validateClaims = AuthHttpRequest.validateClaims;\nexports.getClaimValue = AuthHttpRequest.getClaimValue;\nexports.getInvalidClaimsFromResponse = AuthHttpRequest.getInvalidClaimsFromResponse;\nvar primitiveClaim_1 = require(\"./claims/primitiveClaim\");\nObject.defineProperty(exports, \"PrimitiveClaim\", {\n    enumerable: true,\n    get: function () {\n        return primitiveClaim_1.PrimitiveClaim;\n    }\n});\nvar primitiveArrayClaim_1 = require(\"./claims/primitiveArrayClaim\");\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", {\n    enumerable: true,\n    get: function () {\n        return primitiveArrayClaim_1.PrimitiveArrayClaim;\n    }\n});\nvar booleanClaim_1 = require(\"./claims/booleanClaim\");\nObject.defineProperty(exports, \"BooleanClaim\", {\n    enumerable: true,\n    get: function () {\n        return booleanClaim_1.BooleanClaim;\n    }\n});\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"./lib/build\"));\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar recipeModule_1 = require(\"../recipeModule\");\nvar supertokens_website_1 = require(\"supertokens-website\");\nvar utils_1 = require(\"../../utils\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.getUserId = function (input) {\n            return supertokens_website_1.default.getUserId({\n                userContext: input.userContext,\n            });\n        };\n        _this.getAccessToken = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessToken({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessTokenPayloadSecurely({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return supertokens_website_1.default.doesSessionExist({\n                userContext: input.userContext,\n            });\n        };\n        _this.signOut = function (input) {\n            return supertokens_website_1.default.signOut({\n                userContext: input.userContext,\n            });\n        };\n        _this.attemptRefreshingSession = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, supertokens_website_1.default.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return supertokens_website_1.default.validateClaims(input.overrideGlobalClaimValidators, input.userContext);\n        };\n        supertokens_website_1.default.init(\n            __assign(__assign({}, config), {\n                preAPIHook: function (context) {\n                    return __awaiter(_this, void 0, void 0, function () {\n                        var headers, response;\n                        return __generator(this, function (_a) {\n                            headers = new Headers(context.requestInit.headers);\n                            headers.set(\"rid\", config.recipeId);\n                            response = __assign(__assign({}, context), {\n                                requestInit: __assign(__assign({}, context.requestInit), { headers: headers }),\n                            });\n                            if (config.preAPIHook === undefined) {\n                                return [2 /*return*/, response];\n                            } else {\n                                return [2 /*return*/, config.preAPIHook(context)];\n                            }\n                            return [2 /*return*/];\n                        });\n                    });\n                },\n                apiDomain: config.appInfo.apiDomain.getAsStringDangerous(),\n                apiBasePath: config.appInfo.apiBasePath.getAsStringDangerous(),\n            })\n        );\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, _, enableDebugLogs) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), {\n                    appInfo: appInfo,\n                    recipeId: Recipe.RECIPE_ID,\n                    enableDebugLogs: enableDebugLogs,\n                })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.prototype.getClaimValue = function (input) {\n        return supertokens_website_1.default.getClaimValue(input);\n    };\n    // The strange typing is to avoid adding a dependency to axios\n    Recipe.prototype.getInvalidClaimsFromResponse = function (input) {\n        return supertokens_website_1.default.getInvalidClaimsFromResponse(input);\n    };\n    Recipe.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return supertokens_website_1.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Session found. Make sure to call the Session.init method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"session\";\n    return Recipe;\n})(recipeModule_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar recipeModule_1 = require(\"../recipeModule\");\nvar recipe_1 = require(\"../session/recipe\");\nvar AuthRecipe = /** @class */ (function (_super) {\n    __extends(AuthRecipe, _super);\n    function AuthRecipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.signOut = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default.getInstanceOrThrow().signOut({\n                                    userContext: input.userContext,\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    return AuthRecipe;\n})(recipeModule_1.default);\nexports.default = AuthRecipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\nvar utils_1 = require(\"./utils\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar utils_2 = require(\"../../utils\");\nvar authRecipe_1 = require(\"../authRecipe\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                clientType: _this.config.clientType,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, clientType) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), { recipeId: Recipe.RECIPE_ID, appInfo: appInfo, clientType: clientType })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Multitenancy found. Make sure to call the Multitenancy.init method.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"multitenancy\";\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n"],
  "mappings": "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",
  "names": ["NormalisedURLPath", "WindowHandlerReference", "require_windowHandler", "require_windowHandler", "NormalisedURLDomain", "require_normalisedURLDomain", "NormalisedURLDomain", "require_normalisedURLPath", "NormalisedURLPath", "sessionTokenFrontendDomain", "PROCESS_STATE", "ProcessState", "_this", "require_defaultImplementation", "CookieHandlerReference", "ProcessLocking", "resolve", "SuperTokensLock", "_this", "_a", "LockFactoryReference", "AntiCsrfToken", "FrontToken", "AuthHttpRequest", "SessionClaimValidatorStore", "require_globalClaimValidators", "require_utils", "d", "b", "STGeneralError", "require_error", "require_error", "require_utils", "require_utils", "require_utils", "k", "_i", "OverrideableBuilder", "proxyInd", "require_version", "Querier", "_b", "RecipeModule", "config", "AuthHttpRequest", "self", "name_1", "prop", "xhr", "body", "_a", "require_recipeImplementation", "config", "PrimitiveClaim", "PrimitiveArrayClaim", "d", "b", "BooleanClaim", "require_build", "AuthHttpRequest", "d", "b", "Recipe", "d", "b", "AuthRecipe", "require_recipe", "d", "b", "Recipe"]
}
